<!doctype html>
<html lang="zh"><head><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo搭建笔记 - GWJ的个人小站</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="GWJ的个人小站"><meta name="msapplication-TileImage" content="/images/avatar.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="GWJ的个人小站"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="TodoList  实现在配置文件中修改配色文件 主页博客文章预览美化，打算显示每篇文章的目录 有时‘更多’变成‘Readmore’语言文件不一致 手机版markdown流程图大小适配，style&amp;#x3D;“overflow:auto;”？ 用**live2d-widget替代hexo-helper-live2d** 每篇文章的“上一篇”，“下一篇”和主页的顺序匹配，而不是按默认的创建日期 文章页面同时显"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo搭建笔记"><meta property="og:url" content="https://www.shjdgwj.cn/3c6bb61e18a6/"><meta property="og:site_name" content="GWJ的个人小站"><meta property="og:description" content="TodoList  实现在配置文件中修改配色文件 主页博客文章预览美化，打算显示每篇文章的目录 有时‘更多’变成‘Readmore’语言文件不一致 手机版markdown流程图大小适配，style&amp;#x3D;“overflow:auto;”？ 用**live2d-widget替代hexo-helper-live2d** 每篇文章的“上一篇”，“下一篇”和主页的顺序匹配，而不是按默认的创建日期 文章页面同时显"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.shjdgwj.cn/3c6bb61e18a6/image-20220103203456807.png"><meta property="og:image" content="https://www.shjdgwj.cn/3c6bb61e18a6/image-20220103203213032.png"><meta property="og:image" content="https://www.shjdgwj.cn/3c6bb61e18a6/image-20220103131934791.png"><meta property="og:image" content="https://www.shjdgwj.cn/3c6bb61e18a6/image-20220106212042560.png"><meta property="article:published_time" content="2021-02-04T02:25:10.000Z"><meta property="article:modified_time" content="2023-01-31T03:11:08.566Z"><meta property="article:author" content="GWJ"><meta property="article:tag" content="Hexo"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://www.shjdgwj.cn/3c6bb61e18a6/image-20220103203456807.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.shjdgwj.cn/3c6bb61e18a6/"},"headline":"Hexo搭建笔记","image":[],"datePublished":"2021-02-04T02:25:10.000Z","dateModified":"2023-01-31T03:11:08.566Z","author":{"@type":"Person","name":"GWJ"},"publisher":{"@type":"Organization","name":"GWJ的个人小站","logo":{"@type":"ImageObject","url":{"text":"GWJ的个人小站"}}},"description":"TodoList  实现在配置文件中修改配色文件 主页博客文章预览美化，打算显示每篇文章的目录 有时‘更多’变成‘Readmore’语言文件不一致 手机版markdown流程图大小适配，style&#x3D;“overflow:auto;”？ 用**live2d-widget替代hexo-helper-live2d** 每篇文章的“上一篇”，“下一篇”和主页的顺序匹配，而不是按默认的创建日期 文章页面同时显"}</script><link rel="canonical" href="https://www.shjdgwj.cn/3c6bb61e18a6/"><link rel="icon" href="/images/avatar.png"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.2.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.12.0/styles/arduino-light.min.css"><link rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?77e3a2f0e1b57d0d22b8024d1eb35b17";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.staticfile.org/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-6RN7V394QV" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-6RN7V394QV');</script><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><!--!--><!--!--><script>(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window, document, "clarity", "script", "fqe44u5nze");</script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="GWJ的个人小站" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">GWJ的个人小站</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/images/loading.gif" data-original="/3c6bb61e18a6/image-20220103203456807.png" alt="Hexo搭建笔记"></span></div><article class="card-content article" data-clarity-region="article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-02-04T02:25:10.000Z" title="2021/2/4 10:25:10">2021-02-04</time>发表</span><span class="level-item"><time dateTime="2023-01-31T03:11:08.566Z" title="2023/1/31 11:11:08">2023-01-31</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span><span class="level-item">1 小时读完 (大约11170个字)</span><span class="level-item"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">Hexo搭建笔记</h1><div class="content"><h2 id="todo-list"><a class="markdownIt-Anchor" href="#todo-list"></a> Todo List</h2>
<ol>
<li>实现在配置文件中修改配色文件</li>
<li>主页博客文章预览美化，打算显示每篇文章的目录</li>
<li>有时‘更多’变成‘Read more’ 语言文件不一致</li>
<li>手机版 markdown流程图大小适配，style=“overflow: auto;”？</li>
<li>用**<a target="_blank" rel="noopener" href="https://github.com/stevenjoezhang/live2d-widget"> live2d-widget</a><strong>替代</strong><a target="_blank" rel="noopener" href="https://github.com/EYHN/hexo-helper-live2d">hexo-helper-live2d</a>**</li>
<li>每篇文章的“上一篇”，“下一篇”和主页的顺序匹配，而不是按默认的创建日期</li>
<li>文章页面同时显示创建日期和更新日期</li>
<li>canvas-nest.js</li>
<li>主题 <a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus">hexo-theme-icarus</a></li>
</ol>
<h2 id="文档"><a class="markdownIt-Anchor" href="#文档"></a> 文档</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://hexojs.github.io/warehouse/index.html">hexojs</a></li>
<li><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/variables">变量</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/90561228">Windows系统下Typora的安装和语法</a></li>
<li>blog.justlovesmile.top</li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/melons99/p/16306603.html">Hexo多部署-同时部署到阿里云OSS和Github </a></li>
</ul>
<h2 id="hexo-一篇文章多个-categories"><a class="markdownIt-Anchor" href="#hexo-一篇文章多个-categories"></a> Hexo 一篇文章多个 categories</h2>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/bff1b1845ac9">Hexo 一篇文章多个 categories</a><br>
下面的分类会将该分章放到 Java/Servlet这个分类下。</p>
<figure class="highlight nestedtext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">categories</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">Java</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">Servlet</span><br></code></pre></td></tr></tbody></table></figure>
<figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">categories</span>:<span class="hljs-meta"> [Java, Servlet]</span><br></code></pre></td></tr></tbody></table></figure>
<p>如果我们的要求是将文章同时分到多个不同的分类中呢，我们应该这样：</p>
<figure class="highlight inform7"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs inform7">categories:<br>  -<span class="hljs-comment">[Java]</span><br>  -<span class="hljs-comment">[Servlet]</span><br></code></pre></td></tr></tbody></table></figure>
<p>这样，就可以将上面的文章分类到 Java 和 Servlet 这两个不同的目录中了。<br>
扩展一下，如果我们将其分类到 Java/Servlet 和 Programming 两个不同的目录下，我们应该如下写：</p>
<figure class="highlight inform7"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs inform7">categories:<br>  -<span class="hljs-comment">[Java, Servlet]</span><br>  -<span class="hljs-comment">[Programming]</span><br></code></pre></td></tr></tbody></table></figure>
<h2 id="定制claudia主题"><a class="markdownIt-Anchor" href="#定制claudia主题"></a> 定制Claudia主题</h2>
<h3 id="排序-置顶"><a class="markdownIt-Anchor" href="#排序-置顶"></a> 排序-置顶</h3>
<p>themes\hexo-theme-Claudia\layout\widget\widget-post-list.pug</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pug">each post in page.posts.sort('date', -1).toArray()<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pug">each post in page.posts.sort({date:-1,top:-1}).toArray()<br></code></pre></td></tr></tbody></table></figure>
<p>node_modules\warehouse\lib\query.js</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">/**</span><br><span class="hljs-comment">   * Sorts documents.</span><br><span class="hljs-comment">   *</span><br><span class="hljs-comment">   * Example:</span><br><span class="hljs-comment">   *</span><br><span class="hljs-comment">   * ``` js</span><br><span class="hljs-comment">   * query.sort('date', -1);</span><br><span class="hljs-comment">   * query.sort({date: -1, title: 1});</span><br><span class="hljs-comment">   * query.sort('-date title');</span><br><span class="hljs-comment">   * ```</span><br><span class="hljs-comment">   *</span><br><span class="hljs-comment">   * If the `order` equals to `-1`, `desc` or `descending`, the data will be</span><br><span class="hljs-comment">   * returned in reversed order.</span><br><span class="hljs-comment">   *</span><br><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String|Object</span>} <span class="hljs-variable">orderby</span></span><br><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String|Number</span>} [order]</span><br><span class="hljs-comment">   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Query</span>}</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-title function_">sort</span>(<span class="hljs-params">orderby, order</span>) {<br>    <span class="hljs-keyword">const</span> sort = <span class="hljs-title function_">parseArgs</span>(orderby, order);<br>    <span class="hljs-keyword">const</span> fn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_schema</span>.<span class="hljs-title function_">_execSort</span>(sort);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>.data.slice().sort(fn)</span>);<br>  }<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-title function_">sort</span>(<span class="hljs-params">orderby, order</span>) {<br>    <span class="hljs-keyword">const</span> sort = <span class="hljs-title function_">parseArgs</span>(orderby, order);<br>    <span class="hljs-keyword">const</span> fn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_schema</span>.<span class="hljs-title function_">_execSort</span>(sort);<br>    <span class="hljs-keyword">var</span> tmp = <span class="hljs-keyword">new</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>.data.slice().sort(fn)</span>);<br>    <span class="hljs-keyword">if</span> (sort.<span class="hljs-property">top</span> == -<span class="hljs-number">1</span> &amp;&amp; sort.<span class="hljs-property">date</span> == -<span class="hljs-number">1</span>) {<br>        tmp = <span class="hljs-keyword">new</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>.data.slice().sort((a, b) =&gt; {</span><br><span class="hljs-params">            <span class="hljs-keyword">if</span> (a.top &amp;&amp; b.top) { // 两篇文章top都有定义</span><br><span class="hljs-params">                <span class="hljs-keyword">if</span> (a.top == b.top) <span class="hljs-keyword">return</span> b.date - a.date; // 若top值一样则按照文章日期降序排</span><br><span class="hljs-params">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> b.top - a.top; // 否则按照top值降序排</span><br><span class="hljs-params">            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a.top &amp;&amp; !b.top) { // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行<span class="hljs-number">233</span>）</span><br><span class="hljs-params">                <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="hljs-params">            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!a.top &amp;&amp; b.top) {</span><br><span class="hljs-params">                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="hljs-params">            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class="hljs-params">        })</span>);<br>    }<br>    <span class="hljs-keyword">return</span> tmp;<br>}<br></code></pre></td></tr></tbody></table></figure>
<p>接下来只要在文章加入 top值就行,若写 <code>top: </code>则按date排序</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo学习笔记</span><br><span class="hljs-attr">password:</span> <span class="hljs-string">''</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2021-02-04 10:25:10</span><br><span class="hljs-attr">tags:</span> <span class="hljs-string">Hexo</span><br><span class="hljs-attr">categories:</span> <span class="hljs-string">学习笔记</span><br><span class="hljs-attr">top:</span> <span class="hljs-number">100</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></tbody></table></figure>
<p>知识点:<br>
TypeScript<br>
-compareFn<br>
-sort<br>
-<code>console.log(new Error().stack.split("\n"));</code>打印堆栈</p>
<h4 id="分页导致top值失效"><a class="markdownIt-Anchor" href="#分页导致top值失效"></a> 分页导致top值失效</h4>
<p><em><strong>注意！！！ 这里方案描述有问题，最新方法移步本文章 “文章按更新内容排序”一节！</strong></em></p>
<p>当文件数超过10条导致出现分页时，我发现之前设置的top不起作用，经过1小时的艰苦奋斗，发现</p>
<figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># Home page setting</span><br><span class="hljs-comment"># path: Root path for your blogs index page. (default = '')</span><br><span class="hljs-comment"># per_page: Posts displayed per page. (0 = disable pagination)</span><br><span class="hljs-comment"># order_by: Posts order. (Order by date descending by default)</span><br><span class="hljs-attr">index_generator:</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">''</span><br>  <span class="hljs-attr">per_page:</span> <span class="hljs-number">10</span><br>  <span class="hljs-attr">order_by:</span> <span class="hljs-string">-date</span><br><br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># Home page setting</span><br><span class="hljs-comment"># path: Root path for your blogs index page. (default = '')</span><br><span class="hljs-comment"># per_page: Posts displayed per page. (0 = disable pagination)</span><br><span class="hljs-comment"># order_by: Posts order. (Order by date descending by default)</span><br><span class="hljs-attr">index_generator:</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">''</span><br>  <span class="hljs-attr">per_page:</span> <span class="hljs-number">10</span><br>  <span class="hljs-attr">order_by:</span> <span class="hljs-string">-top</span> <span class="hljs-string">-date</span><br><br></code></pre></td></tr></tbody></table></figure>
<p>即可解决问题</p>
<h3 id="post侧边目录显示序列号"><a class="markdownIt-Anchor" href="#post侧边目录显示序列号"></a> Post侧边目录显示序列号</h3>
<p>themes\hexo-theme-Claudia\layout\post.pug</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pug">block content<br>    - var tocContent = toc(page.content, {list_number: false})<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pug">block content<br>    - var tocContent = toc(page.content, {list_number: true})<br></code></pre></td></tr></tbody></table></figure>
<h3 id="主页侧边栏随页面滚动"><a class="markdownIt-Anchor" href="#主页侧边栏随页面滚动"></a> 主页侧边栏随页面滚动</h3>
<h4 id="修改模版文件"><a class="markdownIt-Anchor" href="#修改模版文件"></a> 修改模版文件</h4>
<p>themes\hexo-theme-Claudia\layout\index.pug</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pug">block sidebar<br>    include widget/widget-profile<br>    if theme.widgets.includes('recent_posts')<br>        include widget/widget-recent<br>    if theme.widgets.includes('category') &amp;&amp; site.categories.length &gt; 0<br>        include widget/widget-categories<br>    if theme.widgets.includes('archive')<br>        include widget/widget-archives<br>    if theme.widgets.includes('tag') &amp;&amp; site.tags.length &gt; 0<br>        include widget/widget-tag<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pug">block sidebar<br>    div.sidebarFixed<br>        include widget/widget-profile<br>        if theme.widgets.includes('recent_posts')<br>            include widget/widget-recent<br>        if theme.widgets.includes('category') &amp;&amp; site.categories.length &gt; 0<br>            include widget/widget-categories<br>        if theme.widgets.includes('archive')<br>            include widget/widget-archives<br>        if theme.widgets.includes('tag') &amp;&amp; site.tags.length &gt; 0<br>            include widget/widget-tag<br></code></pre></td></tr></tbody></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs pug">block content<br>    include widget/widget-post-list<br>        block sidebar<br>            include widget/widget-profile<br>            if theme.widgets.includes('recent_posts')<br>                include widget/widget-recent<br>            div.sidebarFixed<br>                if theme.widgets.includes('category') &amp;&amp; site.categories.length &gt; 0<br>                    include widget/widget-categories<br>                if theme.widgets.includes('archive')<br>                    include widget/widget-archives<br>                if theme.widgets.includes('tag') &amp;&amp; site.tags.length &gt; 0<br>                    include widget/widget-tag<br></code></pre></td></tr></tbody></table></figure>
<p>后者滚动时会不显示个人介绍栏，而显示category archive tag，更有利于浏览。</p>
<h4 id="修改css文件"><a class="markdownIt-Anchor" href="#修改css文件"></a> 修改CSS文件</h4>
<p>向阮一峰学习<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2019/11/css-position.html">CSS 定位详解</a><br>
在themes\hexo-theme-Claudia\source\style\widget-post-list.scss添加</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.post-container</span> {<br>    <span class="hljs-selector-class">.sidebarFixed</span>{<br>        <span class="hljs-attribute">position</span>: sticky;<br>        <span class="hljs-attribute">top</span>: <span class="hljs-number">50px</span>;<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<h4 id="侧边栏进一步定制"><a class="markdownIt-Anchor" href="#侧边栏进一步定制"></a> 侧边栏进一步定制</h4>
<p><strong>建议搭配第二种模版文件修改方法</strong><br>
为了让侧边栏不过于长，影响浏览体验</p>
<ul>
<li>侧边栏长度大于屏幕的高度时，侧边栏下面未被显示的部分只有拉到页面底部才会被显示<br>
themes\hexo-theme-Claudia_config.yml</li>
</ul>
<figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">widgets:</span> <span class="hljs-string">//显示顺序为recent_posts</span> <span class="hljs-string">category</span> <span class="hljs-string">archive</span> <span class="hljs-string">tag</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">tag</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">archive</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">category</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">recent_posts</span><br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">widgets:</span> <span class="hljs-string">//显示顺序为category</span> <span class="hljs-string">archive</span> <span class="hljs-string">tag</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">tag</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">archive</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">category</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="修改侧边栏显示顺序"><a class="markdownIt-Anchor" href="#修改侧边栏显示顺序"></a> 修改侧边栏显示顺序</h4>
<p>修改上述模版文件的4个if的位置即可</p>
<h3 id="图片点击放大"><a class="markdownIt-Anchor" href="#图片点击放大"></a> 图片点击放大</h3>
<ol>
<li>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40705355/article/details/100066698">hexo实现图片单击放大</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.dazhuanlan.com/margaretxian/topics/1315653">Hexo 折腾：利用 Fancybox 添加图片放大预览查看功能 </a></p>
</li>
<li>
<p><a href="kangkai124.github.io/fancybox/">【翻译】fancyBox3 中文文档</a></p>
</li>
<li></li>
<li>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903522039791624">【翻译】fancyBox3 中文文档</a></p>
<p>themes\hexo-theme-Claudia\layout\widget\base.pug</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pug">link(rel="icon" href= url_for(theme.favicon))<br>link(rel="stylesheet" href= url_for('/style/common/bulma.css'))<br>link(rel="stylesheet" href= url_for('/style/base.css'))<br>link(rel="stylesheet" href= url_for('/style/common/helper.css'))<br>script(src= url_for("/js/common.js"))<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
 <figure class="highlight isbl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-function"><span class="hljs-title">link</span>(<span class="hljs-variable">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-variable">href</span>= <span class="hljs-title">url_for</span>(<span class="hljs-variable">theme.favicon</span>))</span><br><span class="hljs-function"><span class="hljs-title">link</span>(<span class="hljs-variable">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-variable">href</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">'/style/common/bulma.css'</span>))</span><br><span class="hljs-function"><span class="hljs-title">link</span>(<span class="hljs-variable">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-variable">href</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">'/style/base.css'</span>))</span><br><span class="hljs-function"><span class="hljs-title">link</span>(<span class="hljs-variable">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-variable">href</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">'/style/common/helper.css'</span>))</span><br><span class="hljs-function"><span class="hljs-title">script</span>(<span class="hljs-variable">src</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">"/js/common.js"</span>))</span><br><span class="hljs-variable"><span class="hljs-keyword">if</span></span> (<span class="hljs-variable">theme.fancybox</span>)<br>  <span class="hljs-function"><span class="hljs-title">link</span>(<span class="hljs-variable">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-variable">href</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">'/js/fancybox/jquery.fancybox.min.css'</span>))</span><br>  <span class="hljs-function"><span class="hljs-title">script</span>(<span class="hljs-variable">src</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">"/js/fancybox/jquery-3.5.1.min.js"</span>))</span><br>  <span class="hljs-function"><span class="hljs-title">script</span>(<span class="hljs-variable">src</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">"/js/fancybox/jquery.fancybox.min.js"</span>))</span><br>  <span class="hljs-function"><span class="hljs-title">script</span>(<span class="hljs-variable">src</span>= <span class="hljs-title">url_for</span>(<span class="hljs-string">"/js/wrapImage.js"</span>))</span><br></code></pre></td></tr></tbody></table></figure>
<p>增加的jQuery和Fancybox需下载放入themes\hexo-theme-Claudia\source\js\fancybox中</p>
<img src="/images/loading.gif" data-original="/3c6bb61e18a6/image-20220103203456807.png" class="" title="image-20220103203456807">
<p>wrapImage.js内容为</p>
 <figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {<br>    <span class="hljs-title function_">wrapImageWithFancyBox</span>();<br>});<br>   <br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Wrap images with fancybox support.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">wrapImageWithFancyBox</span>(<span class="hljs-params"></span>) {<br>    $(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">not</span>(<span class="hljs-string">'.js-img-fadeIn'</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {<br>        <span class="hljs-keyword">var</span> $image = $(<span class="hljs-variable language_">this</span>);<br>        <span class="hljs-keyword">var</span> imageCaption = $image.<span class="hljs-title function_">attr</span>(<span class="hljs-string">'alt'</span>);<br>        <span class="hljs-keyword">var</span> $imageWrapLink = $image.<span class="hljs-title function_">parent</span>(<span class="hljs-string">'a'</span>);<br>        <span class="hljs-keyword">if</span> ($imageWrapLink.<span class="hljs-property">length</span> &lt; <span class="hljs-number">1</span>) {<br>            <span class="hljs-comment">//没找到a标签就新增一个a标签包裹</span><br>            <span class="hljs-keyword">var</span> src = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'src'</span>);<br>            <span class="hljs-keyword">var</span> idx = src.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'?'</span>);<br>            <span class="hljs-keyword">if</span> (idx != -<span class="hljs-number">1</span>) {<br>                src = src.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, idx);<br>            }<br>            $imageWrapLink = $image.<span class="hljs-title function_">wrap</span>(<span class="hljs-string">'&lt;a href="'</span> + src + <span class="hljs-string">'"&gt;&lt;/a&gt;'</span>).<span class="hljs-title function_">parent</span>(<span class="hljs-string">'a'</span>);<br>        }<br>   <br>        $imageWrapLink.<span class="hljs-title function_">attr</span>(<span class="hljs-string">'data-fancybox'</span>, <span class="hljs-string">'images'</span>);<br>        <span class="hljs-keyword">if</span> (imageCaption) {<br>            $imageWrapLink.<span class="hljs-title function_">attr</span>(<span class="hljs-string">'data-caption'</span>, imageCaption);<br>        }<br>   <br>    });<br>   <br>    $().<span class="hljs-title function_">fancybox</span>({ <span class="hljs-comment">//参数见https://github.com/fancyapps/fancybox/blob/master/docs/index.html</span><br>        <span class="hljs-attr">selector</span>: <span class="hljs-string">'[data-fancybox="images"]'</span>,<br>        <span class="hljs-attr">closeExisting</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">buttons</span>: [<br>            <span class="hljs-string">"zoom"</span>,<br>            <span class="hljs-comment">//"share",</span><br>            <span class="hljs-comment">//"slideShow",</span><br>            <span class="hljs-comment">//"fullScreen",</span><br>            <span class="hljs-comment">//"download",</span><br>            <span class="hljs-string">"thumbs"</span>,<br>            <span class="hljs-string">"close"</span><br>        ],<br>        <span class="hljs-attr">keyboard</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">helpers</span>: {<br>            <span class="hljs-attr">overlay</span>: {<br>                <span class="hljs-attr">locked</span>: <span class="hljs-literal">false</span><br>            }<br>        },<br>        <span class="hljs-attr">hash</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-comment">// 相册循环浏览</span><br>        <span class="hljs-attr">loop</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-comment">// 图片周围的margin，如果视口（viewport）宽度小于800px则忽略</span><br>        <span class="hljs-attr">margin</span>: [<span class="hljs-number">44</span>, <span class="hljs-number">0</span>],<br>        <span class="hljs-comment">//是否禁用右键</span><br>        <span class="hljs-attr">protect</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-comment">//鼠标滚轮</span><br>        <span class="hljs-attr">wheel</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-comment">//是否在屏幕边缘显示箭头</span><br>        <span class="hljs-attr">arrows</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-comment">//顶部信息栏</span><br>        <span class="hljs-attr">infobar</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-comment">// Open/close animation type</span><br>        <span class="hljs-comment">// Possible values:</span><br>        <span class="hljs-comment">//   false            - disable</span><br>        <span class="hljs-comment">//   "zoom"           - zoom images from/to thumbnail</span><br>        <span class="hljs-comment">//   "fade"</span><br>        <span class="hljs-comment">//   "zoom-in-out"</span><br>        <span class="hljs-comment">//</span><br>        <span class="hljs-attr">animationEffect</span>: <span class="hljs-string">"zoom"</span>,<br>        <span class="hljs-comment">// Duration in ms for open/close animation</span><br>        <span class="hljs-attr">animationDuration</span>: <span class="hljs-number">500</span>,<br>        <span class="hljs-comment">// Should allow caption to overlap the content</span><br>        <span class="hljs-attr">preventCaptionOverlap</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-comment">//底部不显示图片名</span><br>        <span class="hljs-attr">caption</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">instance, item</span>) {<br>            <span class="hljs-keyword">var</span> caption = <span class="hljs-string">''</span><br>        },<br>        <span class="hljs-comment">/* 在标题右边增加当前图片的序号和图片总数：</span><br><span class="hljs-comment">            caption: function(instance, item) {</span><br><span class="hljs-comment">            var caption = $(this).data('caption') || '';</span><br><span class="hljs-comment">   </span><br><span class="hljs-comment">            return (caption.length ? caption + '&lt;br /&gt;' : '') + 'Image &lt;span data-fancybox-index&gt;&lt;/span&gt; of &lt;span data-fancybox-count&gt;&lt;/span&gt;';</span><br><span class="hljs-comment">        }*/</span><br>    });<br>}<br></code></pre></td></tr></tbody></table></figure>
</li>
</ol>
<h4 id="fancybox导致页面自动滚动"><a class="markdownIt-Anchor" href="#fancybox导致页面自动滚动"></a> fancybox导致页面自动滚动</h4>
<p>[<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/15631124/how-to-prevent-scrolling-of-page-behind-fancybox-2">how to prevent scrolling of page behind fancybox-2</a>](<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/15631124/how-to-prevent-scrolling-of-page-behind-fancybox-2">https://stackoverflow.com/questions/15631124/how-to-prevent-scrolling-of-page-behind-fancybox-2</a>)</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/13547007/fancybox2-fancybox-causes-page-to-to-jump-to-the-top">fancybox causes page to to jump to the top</a></p>
<p>各种方法试下来，只有如下方法有效</p>
<p>在themes\hexo-theme-Claudia\source\style\base.scss添加</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.fancybox-active</span>{<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span> <span class="hljs-meta">!important</span>;<br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="更改highlight高亮"><a class="markdownIt-Anchor" href="#更改highlight高亮"></a> 更改Highlight高亮</h3>
<p><a target="_blank" rel="noopener" href="https://highlightjs.org/download/">下载</a></p>
<p><a target="_blank" rel="noopener" href="https://fenxianglu.cn/highlight.html">样式预览</a></p>
<p>替换<code>highlight-theme-light.css</code>和<code>highlight.pack.js</code></p>
<h4 id="进一步修改"><a class="markdownIt-Anchor" href="#进一步修改"></a> 进一步修改</h4>
<p>将下载的压缩包放入themes\hexo-theme-Claudia\source\js\highlight\中</p>
<img src="/images/loading.gif" data-original="/3c6bb61e18a6/image-20220103203213032.png" class="" title="image-20220103203213032">
<p>themes\hexo-theme-Claudia\layout\post.pug</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pug">extends widget/base<br>block append head<br>  link(rel='stylesheet', href= url_for('/style/post.css'))<br>  link(rel='stylesheet', href= url_for('/style/themes/highlight-theme-light.css'))<br>  script(src= url_for("/js/highlight.pack.js"))<br>  meta(name="description", content=truncate( strip_html(page.content), {length: 360, omission: '..'} ))<br>  if theme.comment_valine &amp;&amp; theme.comment_valine.enable<br>      script(src="//unpkg.com/valine/dist/Valine.min.js")<br></code></pre></td></tr></tbody></table></figure>
<p>修改为</p>
<figure class="highlight reasonml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">extends widget/base<br>block append head<br>  link(rel='stylesheet', href= url<span class="hljs-constructor">_for('<span class="hljs-operator">/</span><span class="hljs-params">style</span><span class="hljs-operator">/</span><span class="hljs-params">post</span>.<span class="hljs-params">css</span>')</span>)<br>  <span class="hljs-keyword">if</span> theme.appearance<span class="hljs-operator"> == </span>'dark'<br>    <span class="hljs-comment">//暗黑模式</span><br>    link(rel='stylesheet', href= url<span class="hljs-constructor">_for('<span class="hljs-params">js</span><span class="hljs-operator">/</span><span class="hljs-params">highlight</span><span class="hljs-operator">/</span><span class="hljs-params">styles</span><span class="hljs-operator">/</span><span class="hljs-params">atom</span>-<span class="hljs-params">one</span>-<span class="hljs-params">dark</span>-<span class="hljs-params">reasonable</span>.<span class="hljs-params">min</span>.<span class="hljs-params">css</span>')</span>)<br>  <span class="hljs-keyword">else</span> <br>    <span class="hljs-comment">//auto&amp;light</span><br>    <span class="hljs-comment">//link(rel='stylesheet', href= url_for('js/highlight/styles/atom-one-light.min.css'))</span><br>    <span class="hljs-comment">//link(rel='stylesheet', href= url_for('js/highlight/styles/lioshi.min.css'))</span><br>    link(rel='stylesheet', href= url<span class="hljs-constructor">_for('<span class="hljs-params">js</span><span class="hljs-operator">/</span><span class="hljs-params">highlight</span><span class="hljs-operator">/</span><span class="hljs-params">styles</span><span class="hljs-operator">/</span><span class="hljs-params">github</span>.<span class="hljs-params">min</span>.<span class="hljs-params">css</span>')</span>)<br>  script(src= url<span class="hljs-constructor">_for(<span class="hljs-string">"/js/highlight/highlight.min.js"</span>)</span>)<br>  meta(name=<span class="hljs-string">"description"</span>, content=truncate( strip<span class="hljs-constructor">_html(<span class="hljs-params">page</span>.<span class="hljs-params">content</span>)</span>, {length: <span class="hljs-number">360</span>, omission: '..'} ))<br>  <span class="hljs-keyword">if</span> theme.comment_valine<span class="hljs-operator"> &amp;&amp; </span>theme.comment_valine.enable<br>      script(src=<span class="hljs-string">"//unpkg.com/valine/dist/Valine.min.js"</span>)<br></code></pre></td></tr></tbody></table></figure>
<p>以后把修改配色文件的功能放进<code>config.yml</code>里</p>
<h3 id="文章按更新时间排序"><a class="markdownIt-Anchor" href="#文章按更新时间排序"></a> 文章按更新时间排序</h3>
<h4 id="资料"><a class="markdownIt-Anchor" href="#资料"></a> 资料</h4>
<ul>
<li>关键词：hexo添加文章更新时间</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ganzhilin520/article/details/79053399">hexo添加文章更新时间(next主题)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7bec9866a04d">hexo-generator-index 源码分析</a></li>
<li>Timsort排序</li>
</ul>
<h4 id="修改文章-显示的日期创建日期改为修改日期"><a class="markdownIt-Anchor" href="#修改文章-显示的日期创建日期改为修改日期"></a> 修改文章 显示的日期：创建日期改为修改日期</h4>
<p>themes\hexo-theme-Claudia\layout\widget\widget-post-list.pug</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pug">if post.date<br>	time.has-text-grey(datetime=post.date.toJSON())= date(post.date, date_format)<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pug">//if post.date<br>	time.has-text-grey(datetime=post.date.toJSON())= date(post.date, date_format)<br>if post.updated<br>	time.has-text-grey(datetime=post.updated.toJSON())= date(post.updated, date_format)<br></code></pre></td></tr></tbody></table></figure>
<p>注意到node_modules\hexo-generator-index\lib\generator.js里面的<strong>timsort</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-meta">'use strict'</span>;<br><br><span class="hljs-keyword">const</span> pagination = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hexo-pagination'</span>);<br><span class="hljs-keyword">const</span> { sort } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'timsort'</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">locals</span>) {<br>    <span class="hljs-keyword">const</span> config = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>;<br>    <span class="hljs-keyword">const</span> posts = locals.<span class="hljs-property">posts</span>.<span class="hljs-title function_">sort</span>(config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">order_by</span>);<br><br>    <span class="hljs-title function_">sort</span>(posts.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> (b.<span class="hljs-property">sticky</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">sticky</span> || <span class="hljs-number">0</span>));<br><br>    <span class="hljs-keyword">const</span> paginationDir = config.<span class="hljs-property">pagination_dir</span> || <span class="hljs-string">'page'</span>;<br>    <span class="hljs-keyword">const</span> path = config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">path</span> || <span class="hljs-string">''</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">pagination</span>(path, posts, {<br>        <span class="hljs-attr">perPage</span>: config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">per_page</span>,<br>        <span class="hljs-attr">layout</span>: [<span class="hljs-string">'index'</span>, <span class="hljs-string">'archive'</span>],<br>        <span class="hljs-attr">format</span>: paginationDir + <span class="hljs-string">'/%d/'</span>,<br>        <span class="hljs-attr">data</span>: {<br>            <span class="hljs-attr">__index</span>: <span class="hljs-literal">true</span><br>        }<br>    });<br>};<br></code></pre></td></tr></tbody></table></figure>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Home page setting</span><br><span class="hljs-comment"># path: Root path for your blogs index page. (default = '')</span><br><span class="hljs-comment"># per_page: Posts displayed per page. (0 = disable pagination)</span><br><span class="hljs-comment"># order_by: Posts order. (Order by date descending by default)</span><br><span class="hljs-attr">index_generator:</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">''</span><br>  <span class="hljs-attr">per_page:</span> <span class="hljs-number">10</span><br>  <span class="hljs-attr">order_by:</span> <span class="hljs-string">-top</span> <span class="hljs-string">-updated</span> <span class="hljs-string">-date</span><br></code></pre></td></tr></tbody></table></figure>
<p>注意到<code>order_by</code>并不是是按设定先后排序，即<code>order_by: -updated -top </code>排序顺序为先按更新时间递减排序，后按top值递减排序，</p>
<p><strong>而是只支持一个排序条件</strong>，因此需要修改源码</p>
<p>故改为</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">index_generator:</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">''</span><br>  <span class="hljs-attr">per_page:</span> <span class="hljs-number">10</span><br>  <span class="hljs-attr">order_by:</span> <span class="hljs-string">-top</span> <br></code></pre></td></tr></tbody></table></figure>
<p>再修改node_modules\hexo-generator-index\lib\generator.js</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-meta">'use strict'</span>;<br><br><span class="hljs-keyword">const</span> pagination = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hexo-pagination'</span>);<br><span class="hljs-keyword">const</span> { sort } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'timsort'</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">locals</span>) {<br>    <span class="hljs-keyword">const</span> config = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>;<br>    <span class="hljs-keyword">const</span> posts = locals.<span class="hljs-property">posts</span>.<span class="hljs-title function_">sort</span>(config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">order_by</span>);<br><br>    <span class="hljs-comment">//sort(posts.data, (a, b) =&gt; (b.sticky || 0) - (a.sticky || 0));</span><br>    <span class="hljs-title function_">sort</span>(posts.<span class="hljs-property">data</span>, <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {<br>        <span class="hljs-comment">//先按top降序</span><br>        <span class="hljs-keyword">var</span> res = (b.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">if</span> (res == <span class="hljs-number">0</span>) {<br>            <span class="hljs-comment">//再按更新日期降序</span><br>            res = (b.<span class="hljs-property">updated</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">updated</span> || <span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">if</span> (res == <span class="hljs-number">0</span>) {<br>                <span class="hljs-comment">//最后按创建日期降序</span><br>                res = (b.<span class="hljs-property">dated</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">dated</span> || <span class="hljs-number">0</span>);<br>                <span class="hljs-keyword">return</span> res;<br>            } <span class="hljs-keyword">else</span> {<br>                <span class="hljs-keyword">return</span> res;<br>            }<br>        } <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">return</span> res;<br>        }<br>    });<br><br>    <span class="hljs-keyword">const</span> paginationDir = config.<span class="hljs-property">pagination_dir</span> || <span class="hljs-string">'page'</span>;<br>    <span class="hljs-keyword">const</span> path = config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">path</span> || <span class="hljs-string">''</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">pagination</span>(path, posts, {<br>        <span class="hljs-attr">perPage</span>: config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">per_page</span>,<br>        <span class="hljs-attr">layout</span>: [<span class="hljs-string">'index'</span>, <span class="hljs-string">'archive'</span>],<br>        <span class="hljs-attr">format</span>: paginationDir + <span class="hljs-string">'/%d/'</span>,<br>        <span class="hljs-attr">data</span>: {<br>            <span class="hljs-attr">__index</span>: <span class="hljs-literal">true</span><br>        }<br>    });<br>};<br></code></pre></td></tr></tbody></table></figure>
<p>再删除theme自带的排序themes\hexo-theme-Claudia\layout\widget\widget-post-list.pug</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pug">if page.posts.length &gt; 0<br>                   //each post in page.posts.sort({updated:-1}).toArray()<br>                       p= post.title+' updated'+date(post.updated, date_format)+" date:"+date(post.date, date_format)+" top:"+post.top<br>                   each post in page.posts.sort({date:-1,top:-1}).toArray()<br>                       - var postURL = url_for(post.path)<br>                       - var imgURL = getPostCoverImg(post)<br>                       - var isExcerpt = post.excerpt &amp;&amp; post.excerpt.length &gt; 0<br>                       - var postContent = isExcerpt ? post.excerpt : post.content<br></code></pre></td></tr></tbody></table></figure>
<p>改为</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pug">if page.posts.length &gt; 0<br>                   //each post in page.posts.sort({updated:-1}).toArray()<br>                       p= post.title+' updated'+date(post.updated, date_format)+" date:"+date(post.date, date_format)+" top:"+post.top<br>                   //each post in page.posts.sort({date:-1,top:-1}).toArray()<br>                   each post in page.posts.toArray()<br>                       - var postURL = url_for(post.path)<br>                       - var imgURL = getPostCoverImg(post)<br>                       - var isExcerpt = post.excerpt &amp;&amp; post.excerpt.length &gt; 0<br>                       - var postContent = isExcerpt ? post.excerpt : post.content<br></code></pre></td></tr></tbody></table></figure>
<h4 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h4>
<div id="flowchart-0" class="flow-chart"></div>
<h2 id="live2d"><a class="markdownIt-Anchor" href="#live2d"></a> live2d</h2>
<h3 id="live2d看板娘不显示的解决办法"><a class="markdownIt-Anchor" href="#live2d看板娘不显示的解决办法"></a> live2d看板娘不显示的解决办法</h3>
<p><a target="_blank" rel="noopener" href="https://www.dazhuanlan.com/2020/02/04/5e38eb3dedc58/">live2d看板娘不显示的解决办法</a></p>
<p>用chrome的console看了一下问题是Live2D widgets: Failed to create WebGL context.<br>
检查到是没有开启WebGL这个选项, 所以如果你使用了live2d但是却不显示 那么可能就是你的浏览器没有开启或者不支持WebGL<br>
chrome用户可以通过chrome://gpu来查看是否开启<br>
如果没有的话, 可以按照以下步骤开启:</p>
<ol>
<li>打开chrome://settings,在’高级-系统’里面打开’使用硬件加速模式(如果可用)’</li>
<li>打开chrome://flags 把’Override software rendering list’和’WebGL Draft Extensions’选为’Enabled’</li>
<li>重启浏览器</li>
</ol>
<p>之后重新加载使用了live2d的网站，等待几秒就能看见可爱的看板娘了</p>
<h3 id="定制css样式"><a class="markdownIt-Anchor" href="#定制css样式"></a> 定制css样式</h3>
<p>themes\hexo-theme-Claudia\layout\widget\base.pug新增</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs pug">link(rel="icon" href= url_for(theme.favicon))<br>    link(rel="stylesheet" href= url_for('/style/common/bulma.css'))<br>    link(rel="stylesheet" href= url_for('/style/base.css'))<br>    link(rel="stylesheet" href= url_for('/style/common/helper.css'))<br>    script(src= url_for("/js/common.js"))<br>    if (theme.fancybox)<br>      link(rel="stylesheet" href= url_for('/js/fancybox/jquery.fancybox.min.css'))<br>      script(src= url_for("/js/fancybox/jquery-3.5.1.min.js"))<br>      script(src= url_for("/js/fancybox/jquery.fancybox.min.js"))<br>      script(src= url_for("/js/wrapImage.js"))<br>    block head<br>    script(src= url_for("/js/modifyLive2dCss.js"))<br></code></pre></td></tr></tbody></table></figure>
<p>创建themes\hexo-theme-Claudia\source\js\modifyLive2dCss.js</p>
<p>由于live2d插件后生成的样式会覆盖，所以加上<code>!important</code>强制应用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {<br>    <span class="hljs-title function_">modifyCss</span>();<br>});<br><span class="hljs-comment">/* 原始css</span><br><span class="hljs-comment">  .live2d-widget-dialog-container {</span><br><span class="hljs-comment">    width: 300px;</span><br><span class="hljs-comment">    height: 120px;</span><br><span class="hljs-comment">    position: absolute;</span><br><span class="hljs-comment">    bottom: 65%;</span><br><span class="hljs-comment">    right: 0px;</span><br><span class="hljs-comment">    transform-origin: right;</span><br><span class="hljs-comment">    padding: 12px;</span><br><span class="hljs-comment">    box-sizing: border-box;</span><br><span class="hljs-comment">    -webkit-font-smoothing: antialiased;</span><br><span class="hljs-comment">  }</span><br><span class="hljs-comment">  .live2d-widget-dialog {</span><br><span class="hljs-comment">    width: 100%;</span><br><span class="hljs-comment">    height: 100%;</span><br><span class="hljs-comment">    color: #917159;</span><br><span class="hljs-comment">    font-size: 16px;</span><br><span class="hljs-comment">    padding: 12px;</span><br><span class="hljs-comment">    border: 2px solid rgb(236, 203, 180);</span><br><span class="hljs-comment">    background: rgb(252, 248, 244);</span><br><span class="hljs-comment">    box-sizing: border-box;</span><br><span class="hljs-comment">    border-radius: 10px;</span><br><span class="hljs-comment">    transform: rotate(-2deg);</span><br><span class="hljs-comment">    opacity: 0;</span><br><span class="hljs-comment">    transition: 200ms opacity;</span><br><span class="hljs-comment">    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 6px, rgba(0, 0, 0, 0.12) 0px 1px 4px;</span><br><span class="hljs-comment">    animation: live2d-widget-dialog-tingle 4s ease-in-out 0s infinite alternate;</span><br><span class="hljs-comment">  }</span><br><span class="hljs-comment">  @keyframes live2d-widget-dialog-tingle {</span><br><span class="hljs-comment">    0% { transform: translate(-1px, 1.5px) rotate(-2deg); }</span><br><span class="hljs-comment">    100% { transform: translate(1px, -1.5px) rotate(2deg); }</span><br><span class="hljs-comment">  }</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">modifyCss</span>(<span class="hljs-params"></span>) {<br>    <span class="hljs-comment">/* $(".live2d-widget-dialog-container").css({</span><br><span class="hljs-comment">        "width": "320px",</span><br><span class="hljs-comment">        "height": "120px",</span><br><span class="hljs-comment">        "right": "-20px"</span><br><span class="hljs-comment">    });</span><br><span class="hljs-comment">    $(".live2d-widget-dialog").css({</span><br><span class="hljs-comment">        "font-size": "20px"</span><br><span class="hljs-comment">    }); */</span><br>    <span class="hljs-comment">//var cssText = ".live2d-widget-dialog-container{width:320px!important;height:120px!important;right:-20px!important}.live2d-widget-dialog{font-size:20px!important}";</span><br>    <span class="hljs-keyword">var</span> cssText = <span class="hljs-string">`</span><br><span class="hljs-string">    .live2d-widget-container{</span><br><span class="hljs-string">        left:2%!important;</span><br><span class="hljs-string">        bottom: -15%!important;</span><br><span class="hljs-string">    }</span><br><span class="hljs-string">    .live2d-widget-dialog-container {</span><br><span class="hljs-string">        width: 320px!important;</span><br><span class="hljs-string">        height: 130px!important;</span><br><span class="hljs-string">        right: -20px!important;</span><br><span class="hljs-string">        top: 7%!important;</span><br><span class="hljs-string">    }</span><br><span class="hljs-string">    .live2d-widget-dialog {</span><br><span class="hljs-string">        font-size: 20px!important;</span><br><span class="hljs-string">    }		</span><br><span class="hljs-string">    `</span>;<br>    <span class="hljs-title function_">insertStyle</span>(cssText);<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">IsPC</span>()) {<br>        <span class="hljs-title function_">insertStyle</span>(<span class="hljs-string">".live2d-widget-dialog-container {visibility: hidden;}"</span>);<br>    }<br><br>}<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">insertStyle</span>(<span class="hljs-params">cssText</span>) {<br>    <span class="hljs-keyword">var</span> head = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">"head"</span>)[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> style = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"style"</span>);<br>    <span class="hljs-keyword">var</span> rules = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(cssText);<br>    style.<span class="hljs-property">type</span> = <span class="hljs-string">"text/css"</span>;<br>    <span class="hljs-keyword">if</span> (style.<span class="hljs-property">styleSheet</span>) {<br>        style.<span class="hljs-property">styleSheet</span>.<span class="hljs-property">cssText</span> = rules.<span class="hljs-property">nodeValue</span>;<br>    } <span class="hljs-keyword">else</span> {<br>        style.<span class="hljs-title function_">appendChild</span>(rules);<br>    }<br>    head.<span class="hljs-title function_">appendChild</span>(style);<br>}<br><span class="hljs-comment">//判断是否是pc端 true为pc端 false为移动端</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">IsPC</span>(<span class="hljs-params"></span>) {<br>    <span class="hljs-keyword">var</span> userAgentInfo = navigator.<span class="hljs-property">userAgent</span>;<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Agents</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-string">"Android"</span>, <span class="hljs-string">"iPhone"</span>, <span class="hljs-string">"SymbianOS"</span>, <span class="hljs-string">"Windows Phone"</span>, <span class="hljs-string">"iPad"</span>, <span class="hljs-string">"iPod"</span>);<br>    <span class="hljs-keyword">var</span> flag = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> v = <span class="hljs-number">0</span>; v &lt; <span class="hljs-title class_">Agents</span>.<span class="hljs-property">length</span>; v++) {<br>        <span class="hljs-keyword">if</span> (userAgentInfo.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Agents</span>[v]) &gt; <span class="hljs-number">0</span>) {<br>            flag = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">break</span>;<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> flag;<br>}<br></code></pre></td></tr></tbody></table></figure>
<h2 id="编辑技巧"><a class="markdownIt-Anchor" href="#编辑技巧"></a> 编辑技巧</h2>
<h3 id="反向tab编辑时与tab键相反功能的建"><a class="markdownIt-Anchor" href="#反向tab编辑时与tab键相反功能的建"></a> 反向TAB(编辑时与tab键相反功能的建)</h3>
<p>Shift+Tab</p>
<h3 id="空格"><a class="markdownIt-Anchor" href="#空格"></a> 空格</h3>
<p>&amp;ensp</p>
<h3 id="正则表达式在行首添加指定内容"><a class="markdownIt-Anchor" href="#正则表达式在行首添加指定内容"></a> 正则表达式在行首添加指定内容</h3>
<p><code>^</code> 表示行头<br>
<code>$</code> 表示行尾</p>
<h3 id="流程图"><a class="markdownIt-Anchor" href="#流程图"></a> 流程图</h3>
<h4 id="例子"><a class="markdownIt-Anchor" href="#例子"></a> 例子</h4>
<p>语言选择为flow</p>
<figure class="highlight livescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs livescript">st=&gt;start: Start<br>op=&gt;operation: Your Operation<br>cond=&gt;condition: Yes <span class="hljs-keyword">or</span> No?<br>e=&gt;end<br>st-&gt;op-&gt;cond<br>cond<span class="hljs-function"><span class="hljs-params">(<span class="hljs-literal">yes</span>)</span>-&gt;</span>e<br>cond<span class="hljs-function"><span class="hljs-params">(<span class="hljs-literal">no</span>)</span>-&gt;</span>op<br></code></pre></td></tr></tbody></table></figure>
<p>效果</p>
<div id="flowchart-1" class="flow-chart"></div>
<h4 id="定义元素的语法"><a class="markdownIt-Anchor" href="#定义元素的语法"></a> 定义元素的语法</h4>
<figure class="highlight clojure-repl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs clojure-repl"><span class="hljs-meta prompt_">tag=&gt;</span><span class="language-clojure">type: content<span class="hljs-symbol">:&gt;url</span></span><br></code></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p>tag就是元素名字，</p>
</li>
<li>
<p>type是这个元素的类型，有6中类型，分别为：</p>
<ul>
<li>start # 开始</li>
<li>end # 结束</li>
<li>operation # 操作</li>
<li>subroutine # 子程序</li>
<li>condition # 条件</li>
<li>inputoutput # 输入或产出</li>
</ul>
</li>
<li>
<p>content就是在框框中要写的内容，注意type后的冒号与文本之间一定要有个空格。</p>
</li>
<li>
<p>url是一个连接，与框框中的文本相绑定</p>
</li>
</ul>
<h4 id="连接元素的语法"><a class="markdownIt-Anchor" href="#连接元素的语法"></a> 连接元素的语法</h4>
<p>用**-&gt;**来连接两个元素，需要注意的是condition类型，因为他有yes和no两个分支，所以要写成</p>
<figure class="highlight livescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livescript">c2<span class="hljs-function"><span class="hljs-params">(<span class="hljs-literal">yes</span>)</span>-&gt;</span>io-&gt;e <br>c2<span class="hljs-function"><span class="hljs-params">(<span class="hljs-literal">no</span>)</span>-&gt;</span>op2-&gt;e<br></code></pre></td></tr></tbody></table></figure>
<h4 id="流程图方向"><a class="markdownIt-Anchor" href="#流程图方向"></a> 流程图方向</h4>
<p>待更新</p>
<h4 id="表情"><a class="markdownIt-Anchor" href="#表情"></a> 表情</h4>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42395140/article/details/111642339">Typora中的emoji表情</a></p>
<h5 id="people"><a class="markdownIt-Anchor" href="#people"></a> People</h5>
<table>
<thead>
<tr>
<th>😄 <code>:smile:</code></th>
<th>😆 <code>:laughing:</code></th>
<th>😫 <code>:tired_face:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>😊 <code>:blush:</code></td>
<td>😃 <code>:smiley:</code></td>
<td>☺️ <code>:relaxed:</code></td>
</tr>
<tr>
<td>😏 <code>:smirk:</code></td>
<td>😍 <code>:heart_eyes:</code></td>
<td>😘 <code>:kissing_heart:</code></td>
</tr>
<tr>
<td>😚 <code>:kissing_closed_eyes:</code></td>
<td>😳 <code>:flushed:</code></td>
<td>😌 <code>:relieved:</code></td>
</tr>
<tr>
<td>😆 <code>:satisfied:</code></td>
<td>😁 <code>:grin:</code></td>
<td>😉 <code>:wink:</code></td>
</tr>
<tr>
<td>😜 <code>:stuck_out_tongue_winking_eye:</code></td>
<td>😝 <code>:stuck_out_tongue_closed_eyes:</code></td>
<td>😀 <code>:grinning:</code></td>
</tr>
<tr>
<td>😗 <code>:kissing:</code></td>
<td>😙 <code>:kissing_smiling_eyes:</code></td>
<td>😛 <code>:stuck_out_tongue:</code></td>
</tr>
<tr>
<td>😴 <code>:sleeping:</code></td>
<td>😟 <code>:worried:</code></td>
<td>😦 <code>:frowning:</code></td>
</tr>
<tr>
<td>😧 <code>:anguished:</code></td>
<td>😮 <code>:open_mouth:</code></td>
<td>😬 <code>:grimacing:</code></td>
</tr>
<tr>
<td>😕 <code>:confused:</code></td>
<td>😯 <code>:hushed:</code></td>
<td>😑 <code>:expressionless:</code></td>
</tr>
<tr>
<td>😒 <code>:unamused:</code></td>
<td>😅 <code>:sweat_smile:</code></td>
<td>😓 <code>:sweat:</code></td>
</tr>
<tr>
<td>😥 <code>:disappointed_relieved:</code></td>
<td>😩 <code>:weary:</code></td>
<td>😔 <code>:pensive:</code></td>
</tr>
<tr>
<td>😞 <code>:disappointed:</code></td>
<td>😖 <code>:confounded:</code></td>
<td>😨 <code>:fearful:</code></td>
</tr>
<tr>
<td>😰 <code>:cold_sweat:</code></td>
<td>😣 <code>:persevere:</code></td>
<td>😢 <code>:cry:</code></td>
</tr>
<tr>
<td>😭 <code>:sob:</code></td>
<td>😂 <code>:joy:</code></td>
<td>😲 <code>:astonished:</code></td>
</tr>
<tr>
<td>😱 <code>:scream:</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>😠 <code>:angry:</code></td>
<td>😡 <code>:rage:</code></td>
<td>😤 <code>:triumph:</code></td>
</tr>
<tr>
<td>😪 <code>:sleepy:</code></td>
<td>😋 <code>:yum:</code></td>
<td>😷 <code>:mask:</code></td>
</tr>
<tr>
<td>😎 <code>:sunglasses:</code></td>
<td>😵 <code>:dizzy_face:</code></td>
<td>👿 <code>:imp:</code></td>
</tr>
<tr>
<td>😈 <code>:smiling_imp:</code></td>
<td>😐 <code>:neutral_face:</code></td>
<td>😶 <code>:no_mouth:</code></td>
</tr>
<tr>
<td>😇 <code>:innocent:</code></td>
<td>👽 <code>:alien:</code></td>
<td>💛 <code>:yellow_heart:</code></td>
</tr>
<tr>
<td>💙 <code>:blue_heart:</code></td>
<td>💜 <code>:purple_heart:</code></td>
<td>❤️ <code>:heart:</code></td>
</tr>
<tr>
<td>💚 <code>:green_heart:</code></td>
<td>💔 <code>:broken_heart:</code></td>
<td>💓 <code>:heartbeat:</code></td>
</tr>
<tr>
<td>💗 <code>:heartpulse:</code></td>
<td>💕 <code>:two_hearts:</code></td>
<td>💞 <code>:revolving_hearts:</code></td>
</tr>
<tr>
<td>💘 <code>:cupid:</code></td>
<td>💖 <code>:sparkling_heart:</code></td>
<td>✨ <code>:sparkles:</code></td>
</tr>
<tr>
<td>⭐️ <code>:star:</code></td>
<td>🌟 <code>:star2:</code></td>
<td>💫 <code>:dizzy:</code></td>
</tr>
<tr>
<td>💥 <code>:boom:</code></td>
<td>💥 <code>:collision:</code></td>
<td>💢 <code>:anger:</code></td>
</tr>
<tr>
<td>❗️ <code>:exclamation:</code></td>
<td>❓ <code>:question:</code></td>
<td>❕ <code>:grey_exclamation:</code></td>
</tr>
<tr>
<td>❔ <code>:grey_question:</code></td>
<td>💤 <code>:zzz:</code></td>
<td>💨 <code>:dash:</code></td>
</tr>
<tr>
<td>💦 <code>:sweat_drops:</code></td>
<td>🎶 <code>:notes:</code></td>
<td>🎵 <code>:musical_note:</code></td>
</tr>
<tr>
<td>🔥 <code>:fire:</code></td>
<td>💩 <code>:hankey:</code></td>
<td>💩 <code>:poop:</code></td>
</tr>
<tr>
<td>💩 <code>:shit:</code></td>
<td>👍 <code>:+1:</code></td>
<td>👍 <code>:thumbsup:</code></td>
</tr>
<tr>
<td>👎 <code>:-1:</code></td>
<td>👎 <code>:thumbsdown:</code></td>
<td>👌 <code>:ok_hand:</code></td>
</tr>
<tr>
<td>👊 <code>:punch:</code></td>
<td>👊 <code>:facepunch:</code></td>
<td>✊ <code>:fist:</code></td>
</tr>
<tr>
<td>✌️ <code>:v:</code></td>
<td>👋 <code>:wave:</code></td>
<td>✋ <code>:hand:</code></td>
</tr>
<tr>
<td>✋ <code>:raised_hand:</code></td>
<td>👐 <code>:open_hands:</code></td>
<td>☝️ <code>:point_up:</code></td>
</tr>
<tr>
<td>👇 <code>:point_down:</code></td>
<td>👈 <code>:point_left:</code></td>
<td>👉 <code>:point_right:</code></td>
</tr>
<tr>
<td>🙌 <code>:raised_hands:</code></td>
<td>🙏 <code>:pray:</code></td>
<td>👆 <code>:point_up_2:</code></td>
</tr>
<tr>
<td>👏 <code>:clap:</code></td>
<td>💪 <code>:muscle:</code></td>
<td>🤘 <code>:metal:</code></td>
</tr>
<tr>
<td>🖕 <code>:fu:</code></td>
<td>🚶 <code>:walking:</code></td>
<td>🏃 <code>:runner:</code></td>
</tr>
<tr>
<td>🏃 <code>:running:</code></td>
<td>👫 <code>:couple:</code></td>
<td>👪 <code>:family:</code></td>
</tr>
<tr>
<td>👬 <code>:two_men_holding_hands:</code></td>
<td>👭 <code>:two_women_holding_hands:</code></td>
<td>💃 <code>:dancer:</code></td>
</tr>
<tr>
<td>👯 <code>:dancers:</code></td>
<td>🙆 <code>:ok_woman:</code></td>
<td>🙅 <code>:no_good:</code></td>
</tr>
<tr>
<td>💁 <code>:information_desk_person:</code></td>
<td>🙋 <code>:raising_hand:</code></td>
<td>👰 <code>:bride_with_veil:</code></td>
</tr>
<tr>
<td>🙎 <code>:person_with_pouting_face:</code></td>
<td>🙍 <code>:person_frowning:</code></td>
<td>🙇 <code>:bow:</code></td>
</tr>
<tr>
<td>💏 <code>:couplekiss:</code></td>
<td>💑 <code>:couple_with_heart:</code></td>
<td>💆 <code>:massage:</code></td>
</tr>
<tr>
<td>💇 <code>:haircut:</code></td>
<td>💅 <code>:nail_care:</code></td>
<td>👦 <code>:boy:</code></td>
</tr>
<tr>
<td>👧 <code>:girl:</code></td>
<td>👩 <code>:woman:</code></td>
<td>👨 <code>:man:</code></td>
</tr>
<tr>
<td>👶 <code>:baby:</code></td>
<td>👵 <code>:older_woman:</code></td>
<td>👴 <code>:older_man:</code></td>
</tr>
<tr>
<td>👱 <code>:person_with_blond_hair:</code></td>
<td>👲 <code>:man_with_gua_pi_mao:</code></td>
<td>👳 <code>:man_with_turban:</code></td>
</tr>
<tr>
<td>👷 <code>:construction_worker:</code></td>
<td>👮 <code>:cop:</code></td>
<td>👼 <code>:angel:</code></td>
</tr>
<tr>
<td>👸 <code>:princess:</code></td>
<td>😺 <code>:smiley_cat:</code></td>
<td>😸 <code>:smile_cat:</code></td>
</tr>
<tr>
<td>😻 <code>:heart_eyes_cat:</code></td>
<td>😽 <code>:kissing_cat:</code></td>
<td>😼 <code>:smirk_cat:</code></td>
</tr>
<tr>
<td>🙀 <code>:scream_cat:</code></td>
<td>😿 <code>:crying_cat_face:</code></td>
<td>😹 <code>:joy_cat:</code></td>
</tr>
<tr>
<td>😾 <code>:pouting_cat:</code></td>
<td>👹 <code>:japanese_ogre:</code></td>
<td>👺 <code>:japanese_goblin:</code></td>
</tr>
<tr>
<td>🙈 <code>:see_no_evil:</code></td>
<td>🙉 <code>:hear_no_evil:</code></td>
<td>🙊 <code>:speak_no_evil:</code></td>
</tr>
<tr>
<td>💂 <code>:guardsman:</code></td>
<td>💀 <code>:skull:</code></td>
<td>🐾 <code>:feet:</code></td>
</tr>
<tr>
<td>👄 <code>:lips:</code></td>
<td>💋 <code>:kiss:</code></td>
<td>💧 <code>:droplet:</code></td>
</tr>
<tr>
<td>👂 <code>:ear:</code></td>
<td>👀 <code>:eyes:</code></td>
<td>👃 <code>:nose:</code></td>
</tr>
<tr>
<td>👅 <code>:tongue:</code></td>
<td>💌 <code>:love_letter:</code></td>
<td>👤 <code>:bust_in_silhouette:</code></td>
</tr>
<tr>
<td>👥 <code>:busts_in_silhouette:</code></td>
<td>💬 <code>:speech_balloon:</code></td>
<td>💭 <code>:thought_balloon:</code></td>
</tr>
</tbody>
</table>
<h5 id="nature"><a class="markdownIt-Anchor" href="#nature"></a> Nature</h5>
<table>
<thead>
<tr>
<th>☀️ <code>:sunny:</code></th>
<th>☔️ <code>:umbrella:</code></th>
<th>☁️ <code>:cloud:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>❄️ <code>:snowflake:</code></td>
<td>⛄️ <code>:snowman:</code></td>
<td>⚡️ <code>:zap:</code></td>
</tr>
<tr>
<td>🌀 <code>:cyclone:</code></td>
<td>🌁 <code>:foggy:</code></td>
<td>🌊 <code>:ocean:</code></td>
</tr>
<tr>
<td>🐱 <code>:cat:</code></td>
<td>🐶 <code>:dog:</code></td>
<td>🐭 <code>:mouse:</code></td>
</tr>
<tr>
<td>🐹 <code>:hamster:</code></td>
<td>🐰 <code>:rabbit:</code></td>
<td>🐺 <code>:wolf:</code></td>
</tr>
<tr>
<td>🐸 <code>:frog:</code></td>
<td>🐯 <code>:tiger:</code></td>
<td>🐨 <code>:koala:</code></td>
</tr>
<tr>
<td>🐻 <code>:bear:</code></td>
<td>🐷 <code>:pig:</code></td>
<td>🐽 <code>:pig_nose:</code></td>
</tr>
<tr>
<td>🐮 <code>:cow:</code></td>
<td>🐗 <code>:boar:</code></td>
<td>🐵 <code>:monkey_face:</code></td>
</tr>
<tr>
<td>🐒 <code>:monkey:</code></td>
<td>🐴 <code>:horse:</code></td>
<td>🐎 <code>:racehorse:</code></td>
</tr>
<tr>
<td>🐫 <code>:camel:</code></td>
<td>🐑 <code>:sheep:</code></td>
<td>🐘 <code>:elephant:</code></td>
</tr>
<tr>
<td>🐼 <code>:panda_face:</code></td>
<td>🐍 <code>:snake:</code></td>
<td>🐦 <code>:bird:</code></td>
</tr>
<tr>
<td>🐤 <code>:baby_chick:</code></td>
<td>🐥 <code>:hatched_chick:</code></td>
<td>🐣 <code>:hatching_chick:</code></td>
</tr>
<tr>
<td>🐔 <code>:chicken:</code></td>
<td>🐧 <code>:penguin:</code></td>
<td>🐢 <code>:turtle:</code></td>
</tr>
<tr>
<td>🐛 <code>:bug:</code></td>
<td>🐝 <code>:honeybee:</code></td>
<td>🐜 <code>:ant:</code></td>
</tr>
<tr>
<td>🐞 <code>:beetle:</code></td>
<td>🐌 <code>:snail:</code></td>
<td>🐙 <code>:octopus:</code></td>
</tr>
<tr>
<td>🐠 <code>:tropical_fish:</code></td>
<td>🐟 <code>:fish:</code></td>
<td>🐳 <code>:whale:</code></td>
</tr>
<tr>
<td>🐋 <code>:whale2:</code></td>
<td>🐬 <code>:dolphin:</code></td>
<td>🐄 <code>:cow2:</code></td>
</tr>
<tr>
<td>🐏 <code>:ram:</code></td>
<td>🐀 <code>:rat:</code></td>
<td>🐃 <code>:water_buffalo:</code></td>
</tr>
<tr>
<td>🐅 <code>:tiger2:</code></td>
<td>🐇 <code>:rabbit2:</code></td>
<td>🐉 <code>:dragon:</code></td>
</tr>
<tr>
<td>🐐 <code>:goat:</code></td>
<td>🐓 <code>:rooster:</code></td>
<td>🐕 <code>:dog2:</code></td>
</tr>
<tr>
<td>🐖 <code>:pig2:</code></td>
<td>🐁 <code>:mouse2:</code></td>
<td>🐂 <code>:ox:</code></td>
</tr>
<tr>
<td>🐲 <code>:dragon_face:</code></td>
<td>🐡 <code>:blowfish:</code></td>
<td>🐊 <code>:crocodile:</code></td>
</tr>
<tr>
<td>🐪 <code>:dromedary_camel:</code></td>
<td>🐆 <code>:leopard:</code></td>
<td>🐈 <code>:cat2:</code></td>
</tr>
<tr>
<td>🐩 <code>:poodle:</code></td>
<td>🐾 <code>:paw_prints:</code></td>
<td>💐 <code>:bouquet:</code></td>
</tr>
<tr>
<td>🌸 <code>:cherry_blossom:</code></td>
<td>🌷 <code>:tulip:</code></td>
<td>🍀 <code>:four_leaf_clover:</code></td>
</tr>
<tr>
<td>🌹 <code>:rose:</code></td>
<td>🌻 <code>:sunflower:</code></td>
<td>🌺 <code>:hibiscus:</code></td>
</tr>
<tr>
<td>🍁 <code>:maple_leaf:</code></td>
<td>🍃 <code>:leaves:</code></td>
<td>🍂 <code>:fallen_leaf:</code></td>
</tr>
<tr>
<td>🌿 <code>:herb:</code></td>
<td>🍄 <code>:mushroom:</code></td>
<td>🌵 <code>:cactus:</code></td>
</tr>
<tr>
<td>🌴 <code>:palm_tree:</code></td>
<td>🌲 <code>:evergreen_tree:</code></td>
<td>🌳 <code>:deciduous_tree:</code></td>
</tr>
<tr>
<td>🌰 <code>:chestnut:</code></td>
<td>🌱 <code>:seedling:</code></td>
<td>🌼 <code>:blossom:</code></td>
</tr>
<tr>
<td>🌾 <code>:ear_of_rice:</code></td>
<td>🐚 <code>:shell:</code></td>
<td>🌐 <code>:globe_with_meridians:</code></td>
</tr>
<tr>
<td>🌞 <code>:sun_with_face:</code></td>
<td>🌝 <code>:full_moon_with_face:</code></td>
<td>🌚 <code>:new_moon_with_face:</code></td>
</tr>
<tr>
<td>🌑 <code>:new_moon:</code></td>
<td>🌒 <code>:waxing_crescent_moon:</code></td>
<td>🌓 <code>:first_quarter_moon:</code></td>
</tr>
<tr>
<td>🌔 <code>:waxing_gibbous_moon:</code></td>
<td>🌕 <code>:full_moon:</code></td>
<td>🌖 <code>:waning_gibbous_moon:</code></td>
</tr>
<tr>
<td>🌗 <code>:last_quarter_moon:</code></td>
<td>🌘 <code>:waning_crescent_moon:</code></td>
<td>🌜 <code>:last_quarter_moon_with_face:</code></td>
</tr>
<tr>
<td>🌛 <code>:first_quarter_moon_with_face:</code></td>
<td>🌔 <code>:moon:</code></td>
<td>🌍 <code>:earth_africa:</code></td>
</tr>
<tr>
<td>🌎 <code>:earth_americas:</code></td>
<td>🌏 <code>:earth_asia:</code></td>
<td>🌋 <code>:volcano:</code></td>
</tr>
<tr>
<td>🌌 <code>:milky_way:</code></td>
<td>⛅️ <code>:partly_sunny:</code></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="object"><a class="markdownIt-Anchor" href="#object"></a> Object</h5>
<table>
<thead>
<tr>
<th>🎍 <code>:bamboo:</code></th>
<th>💝 <code>:gift_heart:</code></th>
<th>🎎 <code>:dolls:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>🎒 <code>:school_satchel:</code></td>
<td>🎓 <code>:mortar_board:</code></td>
<td>🎏 <code>:flags:</code></td>
</tr>
<tr>
<td>🎆 <code>:fireworks:</code></td>
<td>🎇 <code>:sparkler:</code></td>
<td>🎐 <code>:wind_chime:</code></td>
</tr>
<tr>
<td>🎑 <code>:rice_scene:</code></td>
<td>🎃 <code>:jack_o_lantern:</code></td>
<td>👻 <code>:ghost:</code></td>
</tr>
<tr>
<td>🎅 <code>:santa:</code></td>
<td>🎄 <code>:christmas_tree:</code></td>
<td>🎁 <code>:gift:</code></td>
</tr>
<tr>
<td>🔔 <code>:bell:</code></td>
<td>🔕 <code>:no_bell:</code></td>
<td>🎋 <code>:tanabata_tree:</code></td>
</tr>
<tr>
<td>🎉 <code>:tada:</code></td>
<td>🎊 <code>:confetti_ball:</code></td>
<td>🎈 <code>:balloon:</code></td>
</tr>
<tr>
<td>🔮 <code>:crystal_ball:</code></td>
<td>💿 <code>:cd:</code></td>
<td>📀 <code>:dvd:</code></td>
</tr>
<tr>
<td>💾 <code>:floppy_disk:</code></td>
<td>📷 <code>:camera:</code></td>
<td>📹 <code>:video_camera:</code></td>
</tr>
<tr>
<td>🎥 <code>:movie_camera:</code></td>
<td>💻 <code>:computer:</code></td>
<td>📺 <code>:tv:</code></td>
</tr>
<tr>
<td>📱 <code>:iphone:</code></td>
<td>☎️ <code>:phone:</code></td>
<td>☎️ <code>:telephone:</code></td>
</tr>
<tr>
<td>📞 <code>:telephone_receiver:</code></td>
<td>📟 <code>:pager:</code></td>
<td>📠 <code>:fax:</code></td>
</tr>
<tr>
<td>💽 <code>:minidisc:</code></td>
<td>📼 <code>:vhs:</code></td>
<td>🔉 <code>:sound:</code></td>
</tr>
<tr>
<td>🔈 <code>:speaker:</code></td>
<td>🔇 <code>:mute:</code></td>
<td>📢 <code>:loudspeaker:</code></td>
</tr>
<tr>
<td>📣 <code>:mega:</code></td>
<td>⌛️ <code>:hourglass:</code></td>
<td>⏳ <code>:hourglass_flowing_sand:</code></td>
</tr>
<tr>
<td>⏰ <code>:alarm_clock:</code></td>
<td>⌚️ <code>:watch:</code></td>
<td>📻 <code>:radio:</code></td>
</tr>
<tr>
<td>📡 <code>:satellite:</code></td>
<td>➿ <code>:loop:</code></td>
<td>🔍 <code>:mag:</code></td>
</tr>
<tr>
<td>🔎 <code>:mag_right:</code></td>
<td>🔓 <code>:unlock:</code></td>
<td>🔒 <code>:lock:</code></td>
</tr>
<tr>
<td>🔏 <code>:lock_with_ink_pen:</code></td>
<td>🔐 <code>:closed_lock_with_key:</code></td>
<td>🔑 <code>:key:</code></td>
</tr>
<tr>
<td>💡 <code>:bulb:</code></td>
<td>🔦 <code>:flashlight:</code></td>
<td>🔆 <code>:high_brightness:</code></td>
</tr>
<tr>
<td>🔅 <code>:low_brightness:</code></td>
<td>🔌 <code>:electric_plug:</code></td>
<td>🔋 <code>:battery:</code></td>
</tr>
<tr>
<td>📲 <code>:calling:</code></td>
<td>✉️ <code>:email:</code></td>
<td>📫 <code>:mailbox:</code></td>
</tr>
<tr>
<td>📮 <code>:postbox:</code></td>
<td>🛀 <code>:bath:</code></td>
<td>🛁 <code>:bathtub:</code></td>
</tr>
<tr>
<td>🚿 <code>:shower:</code></td>
<td>🚽 <code>:toilet:</code></td>
<td>🔧 <code>:wrench:</code></td>
</tr>
<tr>
<td>🔩 <code>:nut_and_bolt:</code></td>
<td>🔨 <code>:hammer:</code></td>
<td>💺 <code>:seat:</code></td>
</tr>
<tr>
<td>💰 <code>:moneybag:</code></td>
<td>💴 <code>:yen:</code></td>
<td>💵 <code>:dollar:</code></td>
</tr>
<tr>
<td>💷 <code>:pound:</code></td>
<td>💶 <code>:euro:</code></td>
<td>💳 <code>:credit_card:</code></td>
</tr>
<tr>
<td>💸 <code>:money_with_wings:</code></td>
<td>📧 <code>:e-mail:</code></td>
<td>📥 <code>:inbox_tray:</code></td>
</tr>
<tr>
<td>📤 <code>:outbox_tray:</code></td>
<td>✉️ <code>:envelope:</code></td>
<td>📨 <code>:incoming_envelope:</code></td>
</tr>
<tr>
<td>📯 <code>:postal_horn:</code></td>
<td>📪 <code>:mailbox_closed:</code></td>
<td>📬 <code>:mailbox_with_mail:</code></td>
</tr>
<tr>
<td>📭 <code>:mailbox_with_no_mail:</code></td>
<td>🚪 <code>:door:</code></td>
<td>🚬 <code>:smoking:</code></td>
</tr>
<tr>
<td>💣 <code>:bomb:</code></td>
<td>🔫 <code>:gun:</code></td>
<td>🔪 <code>:hocho:</code></td>
</tr>
<tr>
<td>💊 <code>:pill:</code></td>
<td>💉 <code>:syringe:</code></td>
<td>📄 <code>:page_facing_up:</code></td>
</tr>
<tr>
<td>📃 <code>:page_with_curl:</code></td>
<td>📑 <code>:bookmark_tabs:</code></td>
<td>📊 <code>:bar_chart:</code></td>
</tr>
<tr>
<td>📈 <code>:chart_with_upwards_trend:</code></td>
<td>📉 <code>:chart_with_downwards_trend:</code></td>
<td>📜 <code>:scroll:</code></td>
</tr>
<tr>
<td>📋 <code>:clipboard:</code></td>
<td>📆 <code>:calendar:</code></td>
<td>📅 <code>:date:</code></td>
</tr>
<tr>
<td>📇 <code>:card_index:</code></td>
<td>📁 <code>:file_folder:</code></td>
<td>📂 <code>:open_file_folder:</code></td>
</tr>
<tr>
<td>✂️ <code>:scissors:</code></td>
<td>📌 <code>:pushpin:</code></td>
<td>📎 <code>:paperclip:</code></td>
</tr>
<tr>
<td>✒️ <code>:black_nib:</code></td>
<td>✏️ <code>:pencil2:</code></td>
<td>📏 <code>:straight_ruler:</code></td>
</tr>
<tr>
<td>📐 <code>:triangular_ruler:</code></td>
<td>📕 <code>:closed_book:</code></td>
<td>📗 <code>:green_book:</code></td>
</tr>
<tr>
<td>📘 <code>:blue_book:</code></td>
<td>📙 <code>:orange_book:</code></td>
<td>📓 <code>:notebook:</code></td>
</tr>
<tr>
<td>📔 <code>:notebook_with_decorative_cover:</code></td>
<td>📒 <code>:ledger:</code></td>
<td>📚 <code>:books:</code></td>
</tr>
<tr>
<td>🔖 <code>:bookmark:</code></td>
<td>📛 <code>:name_badge:</code></td>
<td>🔬 <code>:microscope:</code></td>
</tr>
<tr>
<td>🔭 <code>:telescope:</code></td>
<td>📰 <code>:newspaper:</code></td>
<td>🏈 <code>:football:</code></td>
</tr>
<tr>
<td>🏀 <code>:basketball:</code></td>
<td>⚽️ <code>:soccer:</code></td>
<td>⚾️ <code>:baseball:</code></td>
</tr>
<tr>
<td>🎾 <code>:tennis:</code></td>
<td>🎱 <code>:8ball:</code></td>
<td>🏉 <code>:rugby_football:</code></td>
</tr>
<tr>
<td>🎳 <code>:bowling:</code></td>
<td>⛳️ <code>:golf:</code></td>
<td>🚵 <code>:mountain_bicyclist:</code></td>
</tr>
<tr>
<td>🚴 <code>:bicyclist:</code></td>
<td>🏇 <code>:horse_racing:</code></td>
<td>🏂 <code>:snowboarder:</code></td>
</tr>
<tr>
<td>🏊 <code>:swimmer:</code></td>
<td>🏄 <code>:surfer:</code></td>
<td>🎿 <code>:ski:</code></td>
</tr>
<tr>
<td>♠️ <code>:spades:</code></td>
<td>♥️ <code>:hearts:</code></td>
<td>♣️ <code>:clubs:</code></td>
</tr>
<tr>
<td>♦️ <code>:diamonds:</code></td>
<td>💎 <code>:gem:</code></td>
<td>💍 <code>:ring:</code></td>
</tr>
<tr>
<td>🏆 <code>:trophy:</code></td>
<td>🎼 <code>:musical_score:</code></td>
<td>🎹 <code>:musical_keyboard:</code></td>
</tr>
<tr>
<td>🎻 <code>:violin:</code></td>
<td>👾 <code>:space_invader:</code></td>
<td>🎮 <code>:video_game:</code></td>
</tr>
<tr>
<td>🃏 <code>:black_joker:</code></td>
<td>🎴 <code>:flower_playing_cards:</code></td>
<td>🎲 <code>:game_die:</code></td>
</tr>
<tr>
<td>🎯 <code>:dart:</code></td>
<td>🀄️ <code>:mahjong:</code></td>
<td>🎬 <code>:clapper:</code></td>
</tr>
<tr>
<td>📝 <code>:memo:</code></td>
<td>📝 <code>:pencil:</code></td>
<td>📖 <code>:book:</code></td>
</tr>
<tr>
<td>🎨 <code>:art:</code></td>
<td>🎤 <code>:microphone:</code></td>
<td>🎧 <code>:headphones:</code></td>
</tr>
<tr>
<td>🎺 <code>:trumpet:</code></td>
<td>🎷 <code>:saxophone:</code></td>
<td>🎸 <code>:guitar:</code></td>
</tr>
<tr>
<td>👞 <code>:shoe:</code></td>
<td>👡 <code>:sandal:</code></td>
<td>👠 <code>:high_heel:</code></td>
</tr>
<tr>
<td>💄 <code>:lipstick:</code></td>
<td>👢 <code>:boot:</code></td>
<td>👕 <code>:shirt:</code></td>
</tr>
<tr>
<td>👕 <code>:tshirt:</code></td>
<td>👔 <code>:necktie:</code></td>
<td>👚 <code>:womans_clothes:</code></td>
</tr>
<tr>
<td>👗 <code>:dress:</code></td>
<td>🎽 <code>:running_shirt_with_sash:</code></td>
<td>👖 <code>:jeans:</code></td>
</tr>
<tr>
<td>👘 <code>:kimono:</code></td>
<td>👙 <code>:bikini:</code></td>
<td>🎀 <code>:ribbon:</code></td>
</tr>
<tr>
<td>🎩 <code>:tophat:</code></td>
<td>👑 <code>:crown:</code></td>
<td>👒 <code>:womans_hat:</code></td>
</tr>
<tr>
<td>👞 <code>:mans_shoe:</code></td>
<td>🌂 <code>:closed_umbrella:</code></td>
<td>💼 <code>:briefcase:</code></td>
</tr>
<tr>
<td>👜 <code>:handbag:</code></td>
<td>👝 <code>:pouch:</code></td>
<td>👛 <code>:purse:</code></td>
</tr>
<tr>
<td>👓 <code>:eyeglasses:</code></td>
<td>🎣 <code>:fishing_pole_and_fish:</code></td>
<td>☕️ <code>:coffee:</code></td>
</tr>
<tr>
<td>🍵 <code>:tea:</code></td>
<td>🍶 <code>:sake:</code></td>
<td>🍼 <code>:baby_bottle:</code></td>
</tr>
<tr>
<td>🍺 <code>:beer:</code></td>
<td>🍻 <code>:beers:</code></td>
<td>🍸 <code>:cocktail:</code></td>
</tr>
<tr>
<td>🍹 <code>:tropical_drink:</code></td>
<td>🍷 <code>:wine_glass:</code></td>
<td>🍴 <code>:fork_and_knife:</code></td>
</tr>
<tr>
<td>🍕 <code>:pizza:</code></td>
<td>🍔 <code>:hamburger:</code></td>
<td>🍟 <code>:fries:</code></td>
</tr>
<tr>
<td>🍗 <code>:poultry_leg:</code></td>
<td>🍖 <code>:meat_on_bone:</code></td>
<td>🍝 <code>:spaghetti:</code></td>
</tr>
<tr>
<td>🍛 <code>:curry:</code></td>
<td>🍤 <code>:fried_shrimp:</code></td>
<td>🍱 <code>:bento:</code></td>
</tr>
<tr>
<td>🍣 <code>:sushi:</code></td>
<td>🍥 <code>:fish_cake:</code></td>
<td>🍙 <code>:rice_ball:</code></td>
</tr>
<tr>
<td>🍘 <code>:rice_cracker:</code></td>
<td>🍚 <code>:rice:</code></td>
<td>🍜 <code>:ramen:</code></td>
</tr>
<tr>
<td>🍲 <code>:stew:</code></td>
<td>🍢 <code>:oden:</code></td>
<td>🍡 <code>:dango:</code></td>
</tr>
<tr>
<td>🥚 <code>:egg:</code></td>
<td>🍞 <code>:bread:</code></td>
<td>🍩 <code>:doughnut:</code></td>
</tr>
<tr>
<td>🍮 <code>:custard:</code></td>
<td>🍦 <code>:icecream:</code></td>
<td>🍨 <code>:ice_cream:</code></td>
</tr>
<tr>
<td>🍧 <code>:shaved_ice:</code></td>
<td>🎂 <code>:birthday:</code></td>
<td>🍰 <code>:cake:</code></td>
</tr>
<tr>
<td>🍪 <code>:cookie:</code></td>
<td>🍫 <code>:chocolate_bar:</code></td>
<td>🍬 <code>:candy:</code></td>
</tr>
<tr>
<td>🍭 <code>:lollipop:</code></td>
<td>🍯 <code>:honey_pot:</code></td>
<td>🍎 <code>:apple:</code></td>
</tr>
<tr>
<td>🍏 <code>:green_apple:</code></td>
<td>🍊 <code>:tangerine:</code></td>
<td>🍋 <code>:lemon:</code></td>
</tr>
<tr>
<td>🍒 <code>:cherries:</code></td>
<td>🍇 <code>:grapes:</code></td>
<td>🍉 <code>:watermelon:</code></td>
</tr>
<tr>
<td>🍓 <code>:strawberry:</code></td>
<td>🍑 <code>:peach:</code></td>
<td>🍈 <code>:melon:</code></td>
</tr>
<tr>
<td>🍌 <code>:banana:</code></td>
<td>🍐 <code>:pear:</code></td>
<td>🍍 <code>:pineapple:</code></td>
</tr>
<tr>
<td>🍠 <code>:sweet_potato:</code></td>
<td>🍆 <code>:eggplant:</code></td>
<td>🍅 <code>:tomato:</code></td>
</tr>
<tr>
<td>🌽 <code>:corn:</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="places"><a class="markdownIt-Anchor" href="#places"></a> Places</h5>
<table>
<thead>
<tr>
<th>🏠 <code>:house:</code></th>
<th>🏡 <code>:house_with_garden:</code></th>
<th>🏫 <code>:school:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>🏢 <code>:office:</code></td>
<td>🏣 <code>:post_office:</code></td>
<td>🏥 <code>:hospital:</code></td>
</tr>
<tr>
<td>🏦 <code>:bank:</code></td>
<td>🏪 <code>:convenience_store:</code></td>
<td>🏩 <code>:love_hotel:</code></td>
</tr>
<tr>
<td>🏨 <code>:hotel:</code></td>
<td>💒 <code>:wedding:</code></td>
<td>⛪️ <code>:church:</code></td>
</tr>
<tr>
<td>🏬 <code>:department_store:</code></td>
<td>🏤 <code>:european_post_office:</code></td>
<td>🌇 <code>:city_sunrise:</code></td>
</tr>
<tr>
<td>🌆 <code>:city_sunset:</code></td>
<td>🏯 <code>:japanese_castle:</code></td>
<td>🏰 <code>:european_castle:</code></td>
</tr>
<tr>
<td>⛺️ <code>:tent:</code></td>
<td>🏭 <code>:factory:</code></td>
<td>🗼 <code>:tokyo_tower:</code></td>
</tr>
<tr>
<td>🗾 <code>:japan:</code></td>
<td>🗻 <code>:mount_fuji:</code></td>
<td>🌄 <code>:sunrise_over_mountains:</code></td>
</tr>
<tr>
<td>🌅 <code>:sunrise:</code></td>
<td>🌠 <code>:stars:</code></td>
<td>🗽 <code>:statue_of_liberty:</code></td>
</tr>
<tr>
<td>🌉 <code>:bridge_at_night:</code></td>
<td>🎠 <code>:carousel_horse:</code></td>
<td>🌈 <code>:rainbow:</code></td>
</tr>
<tr>
<td>🎡 <code>:ferris_wheel:</code></td>
<td>⛲️ <code>:fountain:</code></td>
<td>🎢 <code>:roller_coaster:</code></td>
</tr>
<tr>
<td>🚢 <code>:ship:</code></td>
<td>🚤 <code>:speedboat:</code></td>
<td>⛵️ <code>:boat:</code></td>
</tr>
<tr>
<td>⛵️ <code>:sailboat:</code></td>
<td>🚣 <code>:rowboat:</code></td>
<td>⚓️ <code>:anchor:</code></td>
</tr>
<tr>
<td>🚀 <code>:rocket:</code></td>
<td>✈️ <code>:airplane:</code></td>
<td>🚁 <code>:helicopter:</code></td>
</tr>
<tr>
<td>🚂 <code>:steam_locomotive:</code></td>
<td>🚊 <code>:tram:</code></td>
<td>🚞 <code>:mountain_railway:</code></td>
</tr>
<tr>
<td>🚲 <code>:bike:</code></td>
<td>🚡 <code>:aerial_tramway:</code></td>
<td>🚟 <code>:suspension_railway:</code></td>
</tr>
<tr>
<td>🚠 <code>:mountain_cableway:</code></td>
<td>🚜 <code>:tractor:</code></td>
<td>🚙 <code>:blue_car:</code></td>
</tr>
<tr>
<td>🚘 <code>:oncoming_automobile:</code></td>
<td>🚗 <code>:car:</code></td>
<td>🚗 <code>:red_car:</code></td>
</tr>
<tr>
<td>🚕 <code>:taxi:</code></td>
<td>🚖 <code>:oncoming_taxi:</code></td>
<td>🚛 <code>:articulated_lorry:</code></td>
</tr>
<tr>
<td>🚌 <code>:bus:</code></td>
<td>🚍 <code>:oncoming_bus:</code></td>
<td>🚨 <code>:rotating_light:</code></td>
</tr>
<tr>
<td>🚓 <code>:police_car:</code></td>
<td>🚔 <code>:oncoming_police_car:</code></td>
<td>🚒 <code>:fire_engine:</code></td>
</tr>
<tr>
<td>🚑 <code>:ambulance:</code></td>
<td>🚐 <code>:minibus:</code></td>
<td>🚚 <code>:truck:</code></td>
</tr>
<tr>
<td>🚋 <code>:train:</code></td>
<td>🚉 <code>:station:</code></td>
<td>🚆 <code>:train2:</code></td>
</tr>
<tr>
<td>🚅 <code>:bullettrain_front:</code></td>
<td>🚄 <code>:bullettrain_side:</code></td>
<td>🚈 <code>:light_rail:</code></td>
</tr>
<tr>
<td>🚝 <code>:monorail:</code></td>
<td>🚃 <code>:railway_car:</code></td>
<td>🚎 <code>:trolleybus:</code></td>
</tr>
<tr>
<td>🎫 <code>:ticket:</code></td>
<td>⛽️ <code>:fuelpump:</code></td>
<td>🚦 <code>:vertical_traffic_light:</code></td>
</tr>
<tr>
<td>🚥 <code>:traffic_light:</code></td>
<td>⚠️ <code>:warning:</code></td>
<td>🚧 <code>:construction:</code></td>
</tr>
<tr>
<td>🔰 <code>:beginner:</code></td>
<td>🏧 <code>:atm:</code></td>
<td>🎰 <code>:slot_machine:</code></td>
</tr>
<tr>
<td>🚏 <code>:busstop:</code></td>
<td>💈 <code>:barber:</code></td>
<td>♨️ <code>:hotsprings:</code></td>
</tr>
<tr>
<td>🏁 <code>:checkered_flag:</code></td>
<td>🎌 <code>:crossed_flags:</code></td>
<td>🏮 <code>:izakaya_lantern:</code></td>
</tr>
<tr>
<td>🗿 <code>:moyai:</code></td>
<td>🎪 <code>:circus_tent:</code></td>
<td>🎭 <code>:performing_arts:</code></td>
</tr>
<tr>
<td>📍 <code>:round_pushpin:</code></td>
<td>🚩 <code>:triangular_flag_on_post:</code></td>
<td>🇯🇵 <code>:jp:</code></td>
</tr>
<tr>
<td>🇰🇷 <code>:kr:</code></td>
<td>🇨🇳 <code>:cn:</code></td>
<td>🇺🇸 <code>:us:</code></td>
</tr>
<tr>
<td>🇫🇷 <code>:fr:</code></td>
<td>🇪🇸 <code>:es:</code></td>
<td>🇮🇹 <code>:it:</code></td>
</tr>
<tr>
<td>🇷🇺 <code>:ru:</code></td>
<td>🇬🇧 <code>:gb:</code></td>
<td>🇬🇧 <code>:uk:</code></td>
</tr>
<tr>
<td>🇩🇪 <code>:de:</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="symbols"><a class="markdownIt-Anchor" href="#symbols"></a> Symbols</h5>
<table>
<thead>
<tr>
<th>1️⃣ <code>:one:</code></th>
<th>2️⃣ <code>:two:</code></th>
<th>3️⃣ <code>:three:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>4️⃣ <code>:four:</code></td>
<td>5️⃣ <code>:five:</code></td>
<td>6️⃣ <code>:six:</code></td>
</tr>
<tr>
<td>7️⃣ <code>:seven:</code></td>
<td>8️⃣ <code>:eight:</code></td>
<td>9️⃣ <code>:nine:</code></td>
</tr>
<tr>
<td>🔟 <code>:keycap_ten:</code></td>
<td>🔢 <code>:1234:</code></td>
<td>0️⃣ <code>:zero:</code></td>
</tr>
<tr>
<td>#️⃣ <code>:hash:</code></td>
<td>🔣 <code>:symbols:</code></td>
<td>◀️ <code>:arrow_backward:</code></td>
</tr>
<tr>
<td>⬇️ <code>:arrow_down:</code></td>
<td>▶️ <code>:arrow_forward:</code></td>
<td>⬅️ <code>:arrow_left:</code></td>
</tr>
<tr>
<td>🔠 <code>:capital_abcd:</code></td>
<td>🔡 <code>:abcd:</code></td>
<td>🔤 <code>:abc:</code></td>
</tr>
<tr>
<td>↙️ <code>:arrow_lower_left:</code></td>
<td>↘️ <code>:arrow_lower_right:</code></td>
<td>➡️ <code>:arrow_right:</code></td>
</tr>
<tr>
<td>⬆️ <code>:arrow_up:</code></td>
<td>↖️ <code>:arrow_upper_left:</code></td>
<td>↗️ <code>:arrow_upper_right:</code></td>
</tr>
<tr>
<td>⏬ <code>:arrow_double_down:</code></td>
<td>⏫ <code>:arrow_double_up:</code></td>
<td>🔽 <code>:arrow_down_small:</code></td>
</tr>
<tr>
<td>⤵️ <code>:arrow_heading_down:</code></td>
<td>⤴️ <code>:arrow_heading_up:</code></td>
<td>↩️<code>:leftwards_arrow_with_hook:</code></td>
</tr>
<tr>
<td>↪️ <code>:arrow_right_hook:</code></td>
<td>↔️ <code>:left_right_arrow:</code></td>
<td>↕️ <code>:arrow_up_down:</code></td>
</tr>
<tr>
<td>🔼 <code>:arrow_up_small:</code></td>
<td>🔃 <code>:arrows_clockwise:</code></td>
<td>🔄 <code>:arrows_counterclockwise:</code></td>
</tr>
<tr>
<td>⏪ <code>:rewind:</code></td>
<td>⏩ <code>:fast_forward:</code></td>
<td>ℹ️ <code>:information_source:</code></td>
</tr>
<tr>
<td>🆗 <code>:ok:</code></td>
<td>🔀 <code>:twisted_rightwards_arrows:</code></td>
<td>🔁 <code>:repeat:</code></td>
</tr>
<tr>
<td>🔂 <code>:repeat_one:</code></td>
<td>🆕 <code>:new:</code></td>
<td>🔝 <code>:top:</code></td>
</tr>
<tr>
<td>🆙 <code>:up:</code></td>
<td>🆒 <code>:cool:</code></td>
<td>🆓 <code>:free:</code></td>
</tr>
<tr>
<td>🆖 <code>:ng:</code></td>
<td>🎦 <code>:cinema:</code></td>
<td>🈁 <code>:koko:</code></td>
</tr>
<tr>
<td>📶 <code>:signal_strength:</code></td>
<td>🈹 <code>:u5272:</code></td>
<td>🈴 <code>:u5408:</code></td>
</tr>
<tr>
<td>🈺 <code>:u55b6:</code></td>
<td>🈯️ <code>:u6307:</code></td>
<td>🈷️ <code>:u6708:</code></td>
</tr>
<tr>
<td>🈶 <code>:u6709:</code></td>
<td>🈵 <code>:u6e80:</code></td>
<td>🈚️ <code>:u7121:</code></td>
</tr>
<tr>
<td>🈸 <code>:u7533:</code></td>
<td>🈳 <code>:u7a7a:</code></td>
<td>🈲 <code>:u7981:</code></td>
</tr>
<tr>
<td>🈂️ <code>:sa:</code></td>
<td>🚻 <code>:restroom:</code></td>
<td>🚹 <code>:mens:</code></td>
</tr>
<tr>
<td>🚺 <code>:womens:</code></td>
<td>🚼 <code>:baby_symbol:</code></td>
<td>🚭 <code>:no_smoking:</code></td>
</tr>
<tr>
<td>🅿️ <code>:parking:</code></td>
<td>♿️ <code>:wheelchair:</code></td>
<td>🚇 <code>:metro:</code></td>
</tr>
<tr>
<td>🛄 <code>:baggage_claim:</code></td>
<td>🉑 <code>:accept:</code></td>
<td>🚾 <code>:wc:</code></td>
</tr>
<tr>
<td>🚰 <code>:potable_water:</code></td>
<td>🚮 <code>:put_litter_in_its_place:</code></td>
<td>㊙️ <code>:secret:</code></td>
</tr>
<tr>
<td>㊗️ <code>:congratulations:</code></td>
<td>Ⓜ️ <code>:m:</code></td>
<td>🛂 <code>:passport_control:</code></td>
</tr>
<tr>
<td>🛅 <code>:left_luggage:</code></td>
<td>🛃 <code>:customs:</code></td>
<td>🉐 <code>:ideograph_advantage:</code></td>
</tr>
<tr>
<td>🆑 <code>:cl:</code></td>
<td>🆘 <code>:sos:</code></td>
<td>🆔 <code>:id:</code></td>
</tr>
<tr>
<td>🚫 <code>:no_entry_sign:</code></td>
<td>🔞 <code>:underage:</code></td>
<td>📵 <code>:no_mobile_phones:</code></td>
</tr>
<tr>
<td>🚯 <code>:do_not_litter:</code></td>
<td>🚱 <code>:non-potable_water:</code></td>
<td>🚳 <code>:no_bicycles:</code></td>
</tr>
<tr>
<td>🚷 <code>:no_pedestrians:</code></td>
<td>🚸 <code>:children_crossing:</code></td>
<td>⛔️ <code>:no_entry:</code></td>
</tr>
<tr>
<td>✳️ <code>:eight_spoked_asterisk:</code></td>
<td>✴️ <code>:eight_pointed_black_star:</code></td>
<td>💟 <code>:heart_decoration:</code></td>
</tr>
<tr>
<td>🆚 <code>:vs:</code></td>
<td>📳 <code>:vibration_mode:</code></td>
<td>📴 <code>:mobile_phone_off:</code></td>
</tr>
<tr>
<td>💹 <code>:chart:</code></td>
<td>💱 <code>:currency_exchange:</code></td>
<td>♈️ <code>:aries:</code></td>
</tr>
<tr>
<td>♉️ <code>:taurus:</code></td>
<td>♊️ <code>:gemini:</code></td>
<td>♋️ <code>:cancer:</code></td>
</tr>
<tr>
<td>♌️ <code>:leo:</code></td>
<td>♍️ <code>:virgo:</code></td>
<td>♎️ <code>:libra:</code></td>
</tr>
<tr>
<td>♏️ <code>:scorpius:</code></td>
<td>♐️ <code>:sagittarius:</code></td>
<td>♑️ <code>:capricorn:</code></td>
</tr>
<tr>
<td>♒️ <code>:aquarius:</code></td>
<td>♓️ <code>:pisces:</code></td>
<td>⛎ <code>:ophiuchus:</code></td>
</tr>
<tr>
<td>🔯 <code>:six_pointed_star:</code></td>
<td>❎<code>:negative_squared_cross_mark:</code></td>
<td>🅰️ <code>:a:</code></td>
</tr>
<tr>
<td>🅱️ <code>:b:</code></td>
<td>🆎 <code>:ab:</code></td>
<td>🅾️ <code>:o2:</code></td>
</tr>
<tr>
<td>💠<code>:diamond_shape_with_a_dot_inside:</code></td>
<td>♻️ <code>:recycle:</code></td>
<td>🔚 <code>:end:</code></td>
</tr>
<tr>
<td>🔛 <code>:on:</code></td>
<td>🔜 <code>:soon:</code></td>
<td>🕐 <code>:clock1:</code></td>
</tr>
<tr>
<td>🕜 <code>:clock130:</code></td>
<td>🕙 <code>:clock10:</code></td>
<td>🕥 <code>:clock1030:</code></td>
</tr>
<tr>
<td>🕚 <code>:clock11:</code></td>
<td>🕦 <code>:clock1130:</code></td>
<td>🕛 <code>:clock12:</code></td>
</tr>
<tr>
<td>🕧 <code>:clock1230:</code></td>
<td>🕑 <code>:clock2:</code></td>
<td>🕝 <code>:clock230:</code></td>
</tr>
<tr>
<td>🕒 <code>:clock3:</code></td>
<td>🕞 <code>:clock330:</code></td>
<td>🕓 <code>:clock4:</code></td>
</tr>
<tr>
<td>🕟 <code>:clock430:</code></td>
<td>🕔 <code>:clock5:</code></td>
<td>🕠 <code>:clock530:</code></td>
</tr>
<tr>
<td>🕕 <code>:clock6:</code></td>
<td>🕡 <code>:clock630:</code></td>
<td>🕖 <code>:clock7:</code></td>
</tr>
<tr>
<td>🕢 <code>:clock730:</code></td>
<td>🕗 <code>:clock8:</code></td>
<td>🕣 <code>:clock830:</code></td>
</tr>
<tr>
<td>🕘 <code>:clock9:</code></td>
<td>🕤 <code>:clock930:</code></td>
<td>💲 <code>:heavy_dollar_sign:</code></td>
</tr>
<tr>
<td>©️ <code>:copyright:</code></td>
<td>®️ <code>:registered:</code></td>
<td>™️ <code>:tm:</code></td>
</tr>
<tr>
<td>❌ <code>:x:</code></td>
<td>❗️ <code>:heavy_exclamation_mark:</code></td>
<td>‼️ <code>:bangbang:</code></td>
</tr>
<tr>
<td>⁉️ <code>:interrobang:</code></td>
<td>⭕️ <code>:o:</code></td>
<td>✖️ <code>:heavy_multiplication_x:</code></td>
</tr>
<tr>
<td>➕ <code>:heavy_plus_sign:</code></td>
<td>➖ <code>:heavy_minus_sign:</code></td>
<td>➗ <code>:heavy_division_sign:</code></td>
</tr>
<tr>
<td>💮 <code>:white_flower:</code></td>
<td>💯 <code>:100:</code></td>
<td>✔️ <code>:heavy_check_mark:</code></td>
</tr>
<tr>
<td>☑️ <code>:ballot_box_with_check:</code></td>
<td>🔘 <code>:radio_button:</code></td>
<td>🔗 <code>:link:</code></td>
</tr>
<tr>
<td>➰ <code>:curly_loop:</code></td>
<td>〰️ <code>:wavy_dash:</code></td>
<td>〽️ <code>:part_alternation_mark:</code></td>
</tr>
<tr>
<td>🔱 <code>:trident:</code></td>
<td>:black_square: <code>:black_square:</code></td>
<td>:white_square: <code>:white_square:</code></td>
</tr>
<tr>
<td>✅ <code>:white_check_mark:</code></td>
<td>🔲 <code>:black_square_button:</code></td>
<td>🔳 <code>:white_square_button:</code></td>
</tr>
<tr>
<td>⚫️ <code>:black_circle:</code></td>
<td>⚪️ <code>:white_circle:</code></td>
<td>🔴 <code>:red_circle:</code></td>
</tr>
<tr>
<td>🔵 <code>:large_blue_circle:</code></td>
<td>🔷 <code>:large_blue_diamond:</code></td>
<td>🔶 <code>:large_orange_diamond:</code></td>
</tr>
<tr>
<td>🔹 <code>:small_blue_diamond:</code></td>
<td>🔸 <code>:small_orange_diamond:</code></td>
<td>🔺 <code>:small_red_triangle:</code></td>
</tr>
<tr>
<td>🔻 <code>:small_red_triangle_down:</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="图片正确插入姿势"><a class="markdownIt-Anchor" href="#图片正确插入姿势"></a> 图片正确插入姿势</h2>
<ol>
<li>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42298128/article/details/112531123">如何进入指定文件目录_hexo博客如何插入图片</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://github.com/cocowool/hexo-image-link#hexo-image-link">hexo-image-link</a><br>
<code>npm install hexo-image-link --save</code></p>
</li>
</ol>
  <img src="/images/loading.gif" data-original="/3c6bb61e18a6/image-20220103131934791.png" class="" title="image-20220103131934791">
<h2 id="修改渲染器"><a class="markdownIt-Anchor" href="#修改渲染器"></a> 修改渲染器</h2>
<h3 id="资料-2"><a class="markdownIt-Anchor" href="#资料-2"></a> 资料</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36667170/article/details/105846999">hexo markdown渲染器</a></p>
<h3 id="安装新的渲染器"><a class="markdownIt-Anchor" href="#安装新的渲染器"></a> 安装新的渲染器</h3>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm uni hexo-renderer-marked --save<br>npm i @upupming/hexo-renderer-markdown-it-plus --save <span class="hljs-comment">#以下二选一</span><br>npm i hexo-renderer-markdown-it-plus --save<br></code></pre></td></tr></tbody></table></figure>
<h3 id="修改-_configyml文件"><a class="markdownIt-Anchor" href="#修改-_configyml文件"></a> 修改 _config.yml文件</h3>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Markdown config</span><br><span class="hljs-attr">markdown_it_plus:</span><br>  <span class="hljs-attr">render:</span><br>    <span class="hljs-attr">html:</span> <span class="hljs-literal">true</span>						<br>    <span class="hljs-attr">xhtmlOut:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-attr">breaks:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">linkify:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">typographer:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">quotes:</span> <span class="hljs-string">'“”‘’'</span><br>  <span class="hljs-attr">plugins:</span><br>  <span class="hljs-attr">anchors:</span>	<br>    <span class="hljs-attr">level:</span> <span class="hljs-number">2</span><br>    <span class="hljs-attr">collisionSuffix:</span> <span class="hljs-string">'v'</span><br>    <span class="hljs-attr">permalink:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">permalinkClass:</span> <span class="hljs-string">header-anchor</span><br>    <span class="hljs-attr">permalinkSide:</span> <span class="hljs-string">'left'</span><br>    <span class="hljs-attr">permalinkSymbol:</span> <span class="hljs-string">¶</span><br></code></pre></td></tr></tbody></table></figure>
<h4 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h4>
<ol>
<li>
<p>中文需用<code>\text{}</code>包裹</p>
 <figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">LaTeX-incompatible <span class="hljs-keyword">input</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">strict</span> mode <span class="hljs-keyword">is</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> <span class="hljs-string">'warn'</span>: Unicode <span class="hljs-type">text</span> <span class="hljs-type">character</span> "文" used <span class="hljs-keyword">in</span> math mode [unicodeTextInMathMode]<br>LaTeX-incompatible <span class="hljs-keyword">input</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">strict</span> mode <span class="hljs-keyword">is</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> <span class="hljs-string">'warn'</span>: Unicode <span class="hljs-type">text</span> <span class="hljs-type">character</span> "件" used <span class="hljs-keyword">in</span> math mode [unicodeTextInMathMode]<br>LaTeX-incompatible <span class="hljs-keyword">input</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">strict</span> mode <span class="hljs-keyword">is</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> <span class="hljs-string">'warn'</span>: Unicode <span class="hljs-type">text</span> <span class="hljs-type">character</span> "名" used <span class="hljs-keyword">in</span> math mode [unicodeTextInMathMode]<br><span class="hljs-keyword">No</span> <span class="hljs-type">character</span> metrics <span class="hljs-keyword">for</span> <span class="hljs-string">'文'</span> <span class="hljs-keyword">in</span> style <span class="hljs-string">'Main-Regular'</span><br><span class="hljs-keyword">No</span> <span class="hljs-type">character</span> metrics <span class="hljs-keyword">for</span> <span class="hljs-string">'件'</span> <span class="hljs-keyword">in</span> style <span class="hljs-string">'Main-Regular'</span><br><span class="hljs-keyword">No</span> <span class="hljs-type">character</span> metrics <span class="hljs-keyword">for</span> <span class="hljs-string">'名'</span> <span class="hljs-keyword">in</span> style <span class="hljs-string">'Main-Regular'</span><br></code></pre></td></tr></tbody></table></figure>
<blockquote>
<p>我猜测应该是开启了 <code>hexo-renderer-markdown-it-plus</code> 作为渲染器并且用 <code>katex</code> 进行公式解析</p>
<p>假如是这种情况的话在 <code>$...$</code> 中用 <code>\text{}</code> 对中文包裹应该可以解决这个问题，比如 <code>$\text{测试}$</code></p>
<p><s>另外这样的警告应该不会对渲染造成任何的影响，一定程度上可以忽视</s></p>
<p>如果有其他问题可以继续反馈</p>
<p><a target="_blank" rel="noopener" href="https://github.com/theme-kaze/hexo-theme-kaze/issues/24">https://github.com/theme-kaze/hexo-theme-kaze/issues/24</a></p>
<p>一个是 vscode 等支持正则搜索的工具搜索博客文章，输入 <code>\$.*[\u4e00-\u9fa5]+.*\$</code> 然后尝试定位，但是由于公式语法首尾是一样的所以定位不一定准。另外这个报错是对每个字符都会报错，所以可以尝试把相关的中文连起来搜索定位。</p>
<p>另一种是关闭严格模式，但是 <code>hexo-renderer-markdown-it-plus</code> 并没有提供配置注入的能力，并且原本依赖的 <code>markdown-it-katex</code> 好像就不行，所以可能得自己 fork 然后发 npm 改，感觉有点麻烦。相关代码在 <a target="_blank" rel="noopener" href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus/blob/f2dd1b25738992efc391ba9da398a9c6a7efb105/lib/renderer.js#L83">https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus/blob/f2dd1b25738992efc391ba9da398a9c6a7efb105/lib/renderer.js#L83</a></p>
<p>katex 也有类似的 issue，<a target="_blank" rel="noopener" href="https://github.com/KaTeX/KaTeX/issues/1871">KaTeX/KaTeX#1871</a></p>
</blockquote>
</li>
<li>
<p>Template render error:  expected variable end</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39789979/article/details/110806006">latex公式居中_结合MathType和MathJax在Hexo博客中插入数学公式</a></p>
<blockquote>
<p>后来我发现当有多个花括号，如 `}}`或`{{`，在一起时，就会报<code>Template render error</code>错误。最后在这篇博客中找到了解决办法。即，在公式的前后分别加上<code>`和`</code>:</p>
<figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">{% raw%} $$LaTex数学公式$$ {% endraw %}<br></code></pre></td></tr></tbody></table></figure>
</blockquote>
</li>
<li>
<p>Katex支持</p>
<blockquote>
<p>Katex plugin is enabled by default. However, this renderer alone does not work out of the box for mathematical formulas to display correctly on your website. Therefore, you do not need to do anything if you do not want to use Katex. Otherwise, if you want to use katex, you must add this css style to your website: <code>https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css</code></p>
</blockquote>
<p>在主题<code>themes\hexo-theme-Claudia\layout\widget\base.pug</code>增加</p>
 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jade">link(rel="stylesheet" href= url_for('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css'))<br></code></pre></td></tr></tbody></table></figure>
<h2 id="latex公式居中_结合mathtype和mathjax在hexo博客中插入数学公式"><a class="markdownIt-Anchor" href="#latex公式居中_结合mathtype和mathjax在hexo博客中插入数学公式"></a> latex公式居中_结合MathType和MathJax在Hexo博客中插入数学公式</h2>
</li>
</ol>
<h2 id="hexo博客自定义页面跳过渲染"><a class="markdownIt-Anchor" href="#hexo博客自定义页面跳过渲染"></a> hexo博客自定义页面跳过渲染</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45841239/article/details/107705639">hexo博客自定义页面跳过渲染</a></p>
<img src="/images/loading.gif" data-original="/3c6bb61e18a6/image-20220106212042560.png" class="" title="image-20220106212042560">
<h2 id="hexo插件汇总"><a class="markdownIt-Anchor" href="#hexo插件汇总"></a> <a target="_blank" rel="noopener" href="https://blog.justlovesmile.top/posts/86111745.html">Hexo插件汇总</a></h2>
<table>
<thead>
<tr>
<th>插件</th>
<th>功能</th>
<th>文档链接</th>
</tr>
</thead>
<tbody>
<tr>
<td>hexo-generator-index-pin-top</td>
<td>文章置顶</td>
<td><a target="_blank" rel="noopener" href="https://github.com/netcan/hexo-generator-index-pin-top">https://github.com/netcan/hexo-generator-index-pin-top</a></td>
</tr>
<tr>
<td>hexo-wordcount</td>
<td>文章字数统计和阅读时长统计</td>
<td><a target="_blank" rel="noopener" href="https://github.com/willin/hexo-wordcount">https://github.com/willin/hexo-wordcount</a></td>
</tr>
<tr>
<td>hexo-abbrlink</td>
<td>生成URL短链接</td>
<td><a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-abbrlink">https://github.com/rozbo/hexo-abbrlink</a></td>
</tr>
<tr>
<td>hexo-lazyload-image</td>
<td>图片懒加载</td>
<td><a target="_blank" rel="noopener" href="https://github.com/Troy-Yang/hexo-lazyload-image">https://github.com/Troy-Yang/hexo-lazyload-image</a></td>
</tr>
<tr>
<td>hexo-generator-baidu-sitemap</td>
<td>生成baidusitemap.xml</td>
<td><a target="_blank" rel="noopener" href="https://github.com/coneycode/hexo-generator-baidu-sitemap">https://github.com/coneycode/hexo-generator-baidu-sitemap</a></td>
</tr>
<tr>
<td>hexo-generator-sitemap</td>
<td>生成sitemap.xml</td>
<td><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-sitemap">https://github.com/hexojs/hexo-generator-sitemap</a></td>
</tr>
<tr>
<td>hexo-generator-feed</td>
<td>生成RSS文件</td>
<td><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-feed">https://github.com/hexojs/hexo-generator-feed</a></td>
</tr>
<tr>
<td>hexo-external-link</td>
<td>外链跳转</td>
<td><a target="_blank" rel="noopener" href="https://github.com/hvnobug/hexo-external-link">https://github.com/hvnobug/hexo-external-link</a></td>
</tr>
<tr>
<td>hexo-autonofollow</td>
<td>自动对外部链接增加nofollow属性</td>
<td><a target="_blank" rel="noopener" href="https://github.com/liuzc/hexo-autonofollow">https://github.com/liuzc/hexo-autonofollow</a></td>
</tr>
<tr>
<td>hexo-filter-nofollow</td>
<td>为外链添加rel=“noopener external nofollow noreferrer”</td>
<td><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-filter-nofollow">https://github.com/hexojs/hexo-filter-nofollow</a></td>
</tr>
<tr>
<td>hexo-prism-plugin</td>
<td>代码高亮</td>
<td><a target="_blank" rel="noopener" href="https://github.com/ele828/hexo-prism-plugin">https://github.com/ele828/hexo-prism-plugin</a></td>
</tr>
<tr>
<td>hexo-neat</td>
<td>博客压缩</td>
<td><a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-neat">https://github.com/rozbo/hexo-neat</a></td>
</tr>
<tr>
<td>hexo-allminifier</td>
<td>博客压缩</td>
<td><a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/npm/package/hexo-all-minifier">https://developer.aliyun.com/mirror/npm/package/hexo-all-minifier</a></td>
</tr>
<tr>
<td>hexo-tag-aplayer</td>
<td>aplayer音乐播放器</td>
<td><a target="_blank" rel="noopener" href="https://github.com/MoePlayer/hexo-tag-aplayer">https://github.com/MoePlayer/hexo-tag-aplayer</a></td>
</tr>
<tr>
<td>hexo-tag-dplayer</td>
<td>dplayer视频播放器</td>
<td><a target="_blank" rel="noopener" href="https://github.com/MoePlayer/hexo-tag-dplayer">https://github.com/MoePlayer/hexo-tag-dplayer</a></td>
</tr>
<tr>
<td>hexo-douban</td>
<td>添加豆瓣读书，电影，游戏页面</td>
<td><a target="_blank" rel="noopener" href="https://github.com/mythsman/hexo-douban">https://github.com/mythsman/hexo-douban</a></td>
</tr>
<tr>
<td>hexo-generator-searchdb</td>
<td>本地搜索,生成search.xml</td>
<td><a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-generator-searchdb">https://github.com/theme-next/hexo-generator-searchdb</a></td>
</tr>
<tr>
<td>hexo-algoliasearch</td>
<td>搜索系统</td>
<td><a target="_blank" rel="noopener" href="https://github.com/LouisBarranqueiro/hexo-algoliasearch">https://github.com/LouisBarranqueiro/hexo-algoliasearch</a></td>
</tr>
<tr>
<td>hexo-algolia</td>
<td>搜索系统</td>
<td><a target="_blank" rel="noopener" href="https://github.com/oncletom/hexo-algolia">https://github.com/oncletom/hexo-algolia</a></td>
</tr>
<tr>
<td>hexo-generator-search</td>
<td>本地搜索系统</td>
<td><a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search">https://github.com/wzpan/hexo-generator-search</a></td>
</tr>
<tr>
<td>hexo-baidu-url-submit</td>
<td>百度站长主动推送</td>
<td><a target="_blank" rel="noopener" href="https://github.com/huiwang/hexo-baidu-url-submit">https://github.com/huiwang/hexo-baidu-url-submit</a></td>
</tr>
<tr>
<td>hexo-offline</td>
<td>开启PWA</td>
<td><a target="_blank" rel="noopener" href="https://github.com/JLHwung/hexo-offline">https://github.com/JLHwung/hexo-offline</a></td>
</tr>
<tr>
<td>hexo-pwa</td>
<td>开启PWA</td>
<td><a target="_blank" rel="noopener" href="https://github.com/lavas-project/hexo-pwa">https://github.com/lavas-project/hexo-pwa</a></td>
</tr>
<tr>
<td>hexo-helper-live2d</td>
<td>看板娘</td>
<td><a target="_blank" rel="noopener" href="https://github.com/EYHN/hexo-helper-live2d">https://github.com/EYHN/hexo-helper-live2d</a></td>
</tr>
<tr>
<td>hexo-addlink</td>
<td>文末添加当前文章链接和版权声明</td>
<td><a target="_blank" rel="noopener" href="https://github.com/acwong00/hexo-addlink">https://github.com/acwong00/hexo-addlink</a></td>
</tr>
<tr>
<td>hexo-blog-encrypt</td>
<td>博客文章加密</td>
<td><a target="_blank" rel="noopener" href="https://github.com/MikeCoder/hexo-blog-encrypt">https://github.com/MikeCoder/hexo-blog-encrypt</a></td>
</tr>
<tr>
<td>hexo-simple-mindmap</td>
<td>博客添加脑图</td>
<td><a target="_blank" rel="noopener" href="https://github.com/HunterXuan/hexo-simple-mindmap">https://github.com/HunterXuan/hexo-simple-mindmap</a></td>
</tr>
<tr>
<td>hexo-pdf</td>
<td>博客展示pdf</td>
<td><a target="_blank" rel="noopener" href="https://github.com/superalsrk/hexo-pdf">https://github.com/superalsrk/hexo-pdf</a></td>
</tr>
<tr>
<td>hexo-tag-echarts</td>
<td>博客添加图表</td>
<td><a target="_blank" rel="noopener" href="https://github.com/zhoulvjun/hexo-tag-echarts">https://github.com/zhoulvjun/hexo-tag-echarts</a></td>
</tr>
<tr>
<td>hexo-steam-games</td>
<td>添加Steam游戏界面</td>
<td><a target="_blank" rel="noopener" href="https://github.com/HCLonely/hexo-steam-games">https://github.com/HCLonely/hexo-steam-games</a></td>
</tr>
<tr>
<td>hexo-bilibili-bangumi</td>
<td>添加bilibili番剧页面</td>
<td><a target="_blank" rel="noopener" href="https://github.com/HCLonely/hexo-bilibili-bangumi">https://github.com/HCLonely/hexo-bilibili-bangumi</a></td>
</tr>
<tr>
<td>hexo-generator-random</td>
<td>生成随机文章页面</td>
<td><a target="_blank" rel="noopener" href="https://github.com/Drew233/hexo-generator-random">https://github.com/Drew233/hexo-generator-random</a></td>
</tr>
<tr>
<td>hexo-web-push-notification</td>
<td>web推送插件</td>
<td><a target="_blank" rel="noopener" href="https://github.com/glazec/hexo-web-push-notification">https://github.com/glazec/hexo-web-push-notification</a></td>
</tr>
</tbody>
</table>
<h2 id="hexo无法上传"><a class="markdownIt-Anchor" href="#hexo无法上传"></a> HEXO无法上传</h2>
<p><code>hexo d</code>无法上传，显示如下</p>
<figure class="highlight livecodeserver"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">fatal: Could <span class="hljs-keyword">not</span> <span class="hljs-built_in">read</span> <span class="hljs-built_in">from</span> remote repository.<br><br>Please make sure you have <span class="hljs-keyword">the</span> correct access rights<br><span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> repository exists.<br></code></pre></td></tr></tbody></table></figure>
<p>原因：开了代理</p>
<p>解决方式：命令行增加代理设置</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#cmd</span><br><span class="hljs-built_in">set</span> http_proxy=http://127.0.0.1:7890 &amp; <span class="hljs-built_in">set</span> https_proxy=http://127.0.0.1:7890<br><span class="hljs-comment">#powershell</span><br><span class="hljs-variable">$Env</span>:http_proxy=<span class="hljs-string">"http://127.0.0.1:7890"</span>;<span class="hljs-variable">$Env</span>:https_proxy=<span class="hljs-string">"http://127.0.0.1:7890"</span><br></code></pre></td></tr></tbody></table></figure>
<h2 id="图片懒加载"><a class="markdownIt-Anchor" href="#图片懒加载"></a> 图片懒加载</h2>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/Troy-Yang/hexo-lazyload-image">hexo-lazyload-image</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Robin-front/hexo-lazyload">hexo-lazyload</a></li>
</ol>
<h2 id="加密文章图片不显示"><a class="markdownIt-Anchor" href="#加密文章图片不显示"></a> 加密文章图片不显示</h2>
<p>问题定位：<code>opacity: 0;</code> 怀疑和懒加载图片插件冲突</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.post-page</span> <span class="hljs-selector-class">.post-content</span> <span class="hljs-selector-tag">img</span> {<br>    <span class="hljs-attribute">display</span>: block;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">500px</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgb</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> / <span class="hljs-number">5%</span>);<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">will-change</span>: opacity;<br>}<br></code></pre></td></tr></tbody></table></figure>
<h2 id="软连接同步更新文章"><a class="markdownIt-Anchor" href="#软连接同步更新文章"></a> 软连接同步更新文章</h2>
<figure class="highlight cmd"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">mklink /J D:\Code\Git\hexo\source D:\Code\Git\shjdgwj.github.io\source<br></code></pre></td></tr></tbody></table></figure>
<h2 id="定制icarus主题"><a class="markdownIt-Anchor" href="#定制icarus主题"></a> 定制icarus主题</h2>
<h3 id="资料-3"><a class="markdownIt-Anchor" href="#资料-3"></a> 资料</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/shjdgwj/hexo-theme-icarus">https://github.com/shjdgwj/hexo-theme-icarus</a></li>
<li><a target="_blank" rel="noopener" href="https://ppoffice.github.io/hexo-theme-icarus/">https://ppoffice.github.io/hexo-theme-icarus/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.chuxin911.com/blog_update_record_20210721/">个人博客优化记录</a></li>
<li><a target="_blank" rel="noopener" href="https://www.imaegoo.com/2020/icarus-3-guide/">hexo-theme-icarus 3 食用经验分享</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.mchook.cn/2021/07/22/icarus%E4%B8%BB%E9%A2%98%E8%87%AA%E5%AE%9A%E4%B9%89/">icarus主题自定义</a></li>
<li><a target="_blank" rel="noopener" href="https://bulma.zcopy.site/documentation/overview/">https://bulma.zcopy.site/documentation/overview/</a></li>
<li><a target="_blank" rel="noopener" href="https://bulma.io/documentation/overview/">https://bulma.io/documentation/overview/</a></li>
</ol>
<h3 id="文章目录自动开启"><a class="markdownIt-Anchor" href="#文章目录自动开启"></a> 文章目录自动开启</h3>
<p>toc的判断在<code>themes\hexo-theme-icarus\layout\common\navbar.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> showToc = (config.<span class="hljs-property">toc</span> === <span class="hljs-literal">true</span> || page.<span class="hljs-property">toc</span>) &amp;&amp; hasTocWidget &amp;&amp; [<span class="hljs-string">'page'</span>, <span class="hljs-string">'post'</span>].<span class="hljs-title function_">includes</span>(page.<span class="hljs-property">layout</span>);<br></code></pre></td></tr></tbody></table></figure>
<p><code>themes\hexo-theme-icarus\_config.post.yml</code>添加全局生效</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># toc</span><br><span class="hljs-attr">toc:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="设置展开内容"><a class="markdownIt-Anchor" href="#设置展开内容"></a> 设置展开内容</h3>
<p>在hexo中，插入<code>*&lt;!-- more --&gt;*</code>即可实现文章摘要设置，对于没有设置摘要的文章，设定一个默认字符数。</p>
<p><code>themes\hexo-theme-icarus\layout\common\article.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {<br>    <span class="hljs-comment">//.......</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-comment">//.......</span><br>}<br></code></pre></td></tr></tbody></table></figure>
<p>在<code>return</code>前添加以下代码</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">if</span>(config.<span class="hljs-property">excerpt</span>.<span class="hljs-property">enable</span> == <span class="hljs-literal">true</span> &amp;&amp; page.<span class="hljs-property">excerpt</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>){<br>    page.<span class="hljs-property">excerpt</span> = page.<span class="hljs-property">content</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;\/?.+?&gt;/g</span>,<span class="hljs-string">""</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/ /g</span>,<span class="hljs-string">""</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>,config.<span class="hljs-property">excerpt</span>.<span class="hljs-property">words_count</span>);<br>}<br></code></pre></td></tr></tbody></table></figure>
<p><code>_config.yml</code>添加</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme_config:</span><br>  <span class="hljs-attr">excerpt:</span> <span class="hljs-comment">#&lt;!-- more --&gt;</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">words_count:</span> <span class="hljs-number">300</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="主题语言配置错误"><a class="markdownIt-Anchor" href="#主题语言配置错误"></a> 主题语言配置错误</h3>
<p>重命名<code>themes\hexo-theme-icarus\languages\zh-CN.yml</code>为<code>zh-cn.yml</code>，再复制一份命名为<code>zh_cn.yml</code>。当然，可以直接命名为<code>zh</code>解决下划线问题</p>
<p>修改<code>_config.yml</code>语言设置<code>language: zh_CN</code>为<code>language: zh_cn</code></p>
<p>造成错误原因如下：</p>
<p><code>themes\hexo-theme-icarus\layout\common\article.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> language = <span class="hljs-title function_">toMomentLocale</span>(page.<span class="hljs-property">lang</span> || page.<span class="hljs-property">language</span> || config.<span class="hljs-property">language</span> || <span class="hljs-string">'en'</span>);<br></code></pre></td></tr></tbody></table></figure>
<p><code>node_modules\hexo\lib\plugins\helper\date.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">toMomentLocale</span>(<span class="hljs-params">lang</span>) {<br>  <span class="hljs-keyword">if</span> (lang === <span class="hljs-literal">undefined</span>) {<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<br>  }<br><br>  <span class="hljs-comment">// moment.locale('') equals moment.locale('en')</span><br>  <span class="hljs-comment">// moment.locale(null) equals moment.locale('en')</span><br>  <span class="hljs-keyword">if</span> (!lang || lang === <span class="hljs-string">'en'</span> || lang === <span class="hljs-string">'default'</span>) {<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">'en'</span>;<br>  }<br>  <span class="hljs-keyword">return</span> lang.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-string">'_'</span>, <span class="hljs-string">'-'</span>);<span class="hljs-comment">//这里转换成小写了，因此找不到对应的语言配置文件，以及修改了下划线</span><br>}<br></code></pre></td></tr></tbody></table></figure>
<h3 id="封面-缩略图默认设置为文章第一张图"><a class="markdownIt-Anchor" href="#封面-缩略图默认设置为文章第一张图"></a> 封面 &amp; 缩略图默认设置为文章第一张图</h3>
<p>原始需要设置文章的<code>cover</code>和<code>thumbnail</code>属性，当不设置这两个属性时显示为文章的第一张图片，现做以下修改：</p>
<p><code>themes\hexo-theme-icarus\layout\common\article.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {<br>    <span class="hljs-keyword">const</span> cover = page.<span class="hljs-property">cover</span> ? <span class="hljs-title function_">url_for</span>(page.<span class="hljs-property">cover</span>) : <span class="hljs-literal">null</span>;<br>    <span class="hljs-comment">//.......</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-comment">//.......</span><br>}<br><br></code></pre></td></tr></tbody></table></figure>
<p>修改为</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">var</span> cover = page.<span class="hljs-property">cover</span> ? <span class="hljs-title function_">url_for</span>(page.<span class="hljs-property">cover</span>) : <span class="hljs-literal">null</span>;<br></code></pre></td></tr></tbody></table></figure>
<p><code>return</code>前添加</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">if</span>(!cover){<br>    <span class="hljs-keyword">const</span> firstImgElRegx = <span class="hljs-regexp">/&lt;img[^&gt;]+src="?([^"\s]+)".*?&gt;/</span>;<br>    <span class="hljs-keyword">const</span> coverImgElement = page.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(firstImgElRegx);<br>    <span class="hljs-keyword">if</span> (coverImgElement) {<br>        cover = coverImgElement[<span class="hljs-number">1</span>];<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure>
<p><code>themes\hexo-theme-icarus\layout\archive.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsx">{posts.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">post</span> =&gt;</span> {<br>    <span class="hljs-keyword">const</span> categories = post.<span class="hljs-property">categories</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">category</span> =&gt;</span> ({<br>        <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(category.<span class="hljs-property">path</span>),<br>        <span class="hljs-attr">name</span>: category.<span class="hljs-property">name</span><br>    }));<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ArticleMedia</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">url</span>=<span class="hljs-string">{url_for(post.link</span> || <span class="hljs-attr">post.path</span>)}</span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">title</span>=<span class="hljs-string">{post.title}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">date</span>=<span class="hljs-string">{date(post.date)}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">dateXml</span>=<span class="hljs-string">{date_xml(post.date)}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">categories</span>=<span class="hljs-string">{categories}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">thumbnail</span>=<span class="hljs-string">{post.thumbnail</span> ? <span class="hljs-attr">url_for</span>(<span class="hljs-attr">post.thumbnail</span>) <span class="hljs-attr">:</span> <span class="hljs-attr">null</span>} /&gt;</span></span>;<br>})}<br></code></pre></td></tr></tbody></table></figure>
<p>修改为</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsx">{posts.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">post</span> =&gt;</span> {<br>    <span class="hljs-keyword">const</span> categories = post.<span class="hljs-property">categories</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">category</span> =&gt;</span> ({<br>        <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(category.<span class="hljs-property">path</span>),<br>        <span class="hljs-attr">name</span>: category.<span class="hljs-property">name</span><br>    }));<br>    <span class="hljs-keyword">var</span> thumbnail=post.<span class="hljs-property">thumbnail</span> ? <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">thumbnail</span>) : <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">if</span>(!thumbnail){<br>        <span class="hljs-keyword">const</span> firstImgElRegx = <span class="hljs-regexp">/&lt;img[^&gt;]+src="?([^"\s]+)".*?&gt;/</span>;<br>        <span class="hljs-keyword">const</span> thumbnailImgElement = post.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(firstImgElRegx);<br>        <span class="hljs-keyword">if</span> (thumbnailImgElement) {<br>            thumbnail = thumbnailImgElement[<span class="hljs-number">1</span>];<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ArticleMedia</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">url</span>=<span class="hljs-string">{url_for(post.link</span> || <span class="hljs-attr">post.path</span>)}</span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">title</span>=<span class="hljs-string">{post.title}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">date</span>=<span class="hljs-string">{date(post.date)}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">dateXml</span>=<span class="hljs-string">{date_xml(post.date)}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">categories</span>=<span class="hljs-string">{categories}</span></span></span><br><span class="hljs-tag"><span class="language-xml">               <span class="hljs-attr">thumbnail</span>=<span class="hljs-string">{thumbnail}</span> /&gt;</span></span>;<br>})}<br></code></pre></td></tr></tbody></table></figure>
<h4 id="魔改hexo-component-inferno"><a class="markdownIt-Anchor" href="#魔改hexo-component-inferno"></a> 魔改hexo-component-inferno</h4>
<p>参考<a target="_blank" rel="noopener" href="https://www.imaegoo.com/2020/icarus-3-guide/">hexo-theme-icarus 3 食用经验分享</a></p>
<blockquote>
<p>对于已经移除代码的 widgets，直接从 <a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-component-inferno/tree/master/src/view">hexo-component-inferno / src / view</a> 把需要修改的 JSX 复制到主题目录下的 <code>layout/widget</code>，再进行魔改即可。</p>
<p>复制<code>node_modules\hexo-component-inferno\lib\view\widget\recent_posts.js</code>到<code>themes\hexo-theme-icarus\include\schema\widget\</code>目录</p>
</blockquote>
<p>好像不太行，直接修改<code>node_modules\hexo-component-inferno\lib\view\widget\recent_posts.js</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">var</span> posts = site.<span class="hljs-property">posts</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-string">'date'</span>, -<span class="hljs-number">1</span>).<span class="hljs-title function_">limit</span>(limit).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">post</span>) {<br>    <span class="hljs-keyword">return</span> {<br>      <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">link</span> || post.<span class="hljs-property">path</span>),<br>      <span class="hljs-attr">title</span>: post.<span class="hljs-property">title</span>,<br>      <span class="hljs-attr">date</span>: <span class="hljs-title function_">date</span>(post.<span class="hljs-property">date</span>),<br>      <span class="hljs-attr">dateXml</span>: <span class="hljs-title function_">date_xml</span>(post.<span class="hljs-property">date</span>),<br>      <span class="hljs-attr">thumbnail</span>: post.<span class="hljs-property">thumbnail</span> ? <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">thumbnail</span>) : <span class="hljs-literal">null</span>,<br>      <span class="hljs-attr">categories</span>: post.<span class="hljs-property">categories</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">category</span>) {<br>        <span class="hljs-keyword">return</span> {<br>          <span class="hljs-attr">name</span>: category.<span class="hljs-property">name</span>,<br>          <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(category.<span class="hljs-property">path</span>)<br>        };<br>      })<br>    };<br>  });<br></code></pre></td></tr></tbody></table></figure>
<p>修改为</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">var</span> posts = site.<span class="hljs-property">posts</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-string">'date'</span>, -<span class="hljs-number">1</span>).<span class="hljs-title function_">limit</span>(limit).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">post</span>) {<br>    <span class="hljs-keyword">var</span> thumbnail=post.<span class="hljs-property">thumbnail</span> ? <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">thumbnail</span>) : <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">if</span>(!thumbnail){<br>        <span class="hljs-keyword">const</span> firstImgElRegx = <span class="hljs-regexp">/&lt;img[^&gt;]+src="?([^"\s]+)".*?&gt;/</span>;<br>        <span class="hljs-keyword">const</span> thumbnailImgElement = post.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(firstImgElRegx);<br>        <span class="hljs-keyword">if</span> (thumbnailImgElement) {<br>            thumbnail = thumbnailImgElement[<span class="hljs-number">1</span>];<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> {<br>      <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">link</span> || post.<span class="hljs-property">path</span>),<br>      <span class="hljs-attr">title</span>: post.<span class="hljs-property">title</span>,<br>      <span class="hljs-attr">date</span>: <span class="hljs-title function_">date</span>(post.<span class="hljs-property">date</span>),<br>      <span class="hljs-attr">dateXml</span>: <span class="hljs-title function_">date_xml</span>(post.<span class="hljs-property">date</span>),<br>      <span class="hljs-attr">thumbnail</span>: thumbnail,<br>      <span class="hljs-attr">categories</span>: post.<span class="hljs-property">categories</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">category</span>) {<br>        <span class="hljs-keyword">return</span> {<br>          <span class="hljs-attr">name</span>: category.<span class="hljs-property">name</span>,<br>          <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(category.<span class="hljs-property">path</span>)<br>        };<br>      })<br>    };<br>  });<br></code></pre></td></tr></tbody></table></figure>
<h3 id="navbar语言配置文件不生效"><a class="markdownIt-Anchor" href="#navbar语言配置文件不生效"></a> navbar语言配置文件不生效</h3>
<p>错误代码<code>themes\hexo-theme-icarus\layout\common\navbar.jsx</code></p>
<p>直接把键名name作为输出</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">{<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(menu).<span class="hljs-property">length</span> ? <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-start"</span>&gt;</span></span><br><span class="language-xml">     {Object.keys(menu).map(name =&gt; {</span><br><span class="language-xml">         const item = menu[name];</span><br><span class="language-xml">         return <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{classname({</span> '<span class="hljs-attr">navbar-item</span>'<span class="hljs-attr">:</span> <span class="hljs-attr">true</span>, '<span class="hljs-attr">is-active</span>'<span class="hljs-attr">:</span> <span class="hljs-attr">item.active</span> })} <span class="hljs-attr">href</span>=<span class="hljs-string">{item.url}</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>;</span><br><span class="language-xml">     })}</span><br><span class="language-xml"> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="hljs-literal">null</span>}<br></code></pre></td></tr></tbody></table></figure>
<p>本来想用用于生成对应翻译文本<code>helper._p()</code>函数实现多语言支持，但是发现</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> menu = {};<br><span class="hljs-keyword">if</span> (navbar &amp;&amp; navbar.<span class="hljs-property">menu</span>) {<br>    <span class="hljs-keyword">const</span> pageUrl = <span class="hljs-keyword">typeof</span> page.<span class="hljs-property">path</span> !== <span class="hljs-string">'undefined'</span> ? <span class="hljs-title function_">url_for</span>(page.<span class="hljs-property">path</span>) : <span class="hljs-string">''</span>;<br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(navbar.<span class="hljs-property">menu</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> {<br>        <span class="hljs-keyword">const</span> url = <span class="hljs-title function_">url_for</span>(navbar.<span class="hljs-property">menu</span>[name]);<br>        <span class="hljs-keyword">const</span> active = <span class="hljs-title function_">isSameLink</span>(url, pageUrl);<br>        menu[name] = { url, active };<br>    });<br>}<br></code></pre></td></tr></tbody></table></figure>
<p><code>menu</code>直接来源于配置文件<code>themes\hexo-theme-icarus\_config.yml</code></p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">navbar:</span><br>    <span class="hljs-attr">menu:</span><br>        <span class="hljs-attr">Home:</span> <span class="hljs-string">/</span><br>        <span class="hljs-attr">Archives:</span> <span class="hljs-string">/archives</span><br>        <span class="hljs-attr">Categories:</span> <span class="hljs-string">/categories</span><br>        <span class="hljs-attr">Tags:</span> <span class="hljs-string">/tags</span><br>        <span class="hljs-attr">About:</span> <span class="hljs-string">/about</span><br></code></pre></td></tr></tbody></table></figure>
<p>因此其实只要修改为如以下即可，顺序就是最终显示顺序</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">navbar:</span><br>    <span class="hljs-attr">menu:</span><br>        <span class="hljs-string">主页:</span> <span class="hljs-string">/</span><br>        <span class="hljs-string">分类:</span> <span class="hljs-string">/categories</span><br>        <span class="hljs-string">标签:</span> <span class="hljs-string">/tags</span><br>        <span class="hljs-string">归档:</span> <span class="hljs-string">/archives</span><br>        <span class="hljs-string">关于:</span> <span class="hljs-string">/about</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="文章按更新时间排序-2"><a class="markdownIt-Anchor" href="#文章按更新时间排序-2"></a> 文章按更新时间排序</h3>
<p>修改<code>node_modules\hexo-component-inferno\lib\view\widget\recent_posts.js</code>，显示<code>修改时间</code>而非<code>创建时间</code>。</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//var posts = site.posts.sort('date', -1).limit(limit).map(function (post) {</span><br><span class="hljs-keyword">var</span> posts = site.<span class="hljs-property">posts</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-string">'updated'</span>, -<span class="hljs-number">1</span>).<span class="hljs-title function_">limit</span>(limit).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">post</span>) {<br>    <span class="hljs-keyword">var</span> thumbnail=post.<span class="hljs-property">thumbnail</span> ? <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">thumbnail</span>) : <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">if</span>(!thumbnail){<br>        <span class="hljs-keyword">const</span> firstImgElRegx = <span class="hljs-regexp">/&lt;img[^&gt;]+src="?([^"\s]+)".*?&gt;/</span>;<br>        <span class="hljs-keyword">const</span> thumbnailImgElement = post.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(firstImgElRegx);<br>        <span class="hljs-keyword">if</span> (thumbnailImgElement) {<br>            thumbnail = thumbnailImgElement[<span class="hljs-number">1</span>];<br>        }<br>    }<br></code></pre></td></tr></tbody></table></figure>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> (<span class="hljs-number">0</span>, _inferno.<span class="hljs-property">createComponentVNode</span>)(<span class="hljs-number">2</span>, <span class="hljs-title class_">ArticleMedia</span>, {<br>    <span class="hljs-string">"thumbnail"</span>: post.<span class="hljs-property">thumbnail</span>,<br>    <span class="hljs-string">"url"</span>: post.<span class="hljs-property">url</span>,<br>    <span class="hljs-string">"title"</span>: post.<span class="hljs-property">title</span>,<br>    <span class="hljs-comment">//"date": post.date,</span><br>    <span class="hljs-string">"date"</span>: post.<span class="hljs-property">updated</span>,<br>    <span class="hljs-string">"dateXml"</span>: post.<span class="hljs-property">dateXml</span>,<br>    <span class="hljs-string">"categories"</span>: post.<span class="hljs-property">categories</span><br>});<br></code></pre></td></tr></tbody></table></figure>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> {<br>    <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(post.<span class="hljs-property">link</span> || post.<span class="hljs-property">path</span>),<br>    <span class="hljs-attr">title</span>: post.<span class="hljs-property">title</span>,<br>    <span class="hljs-attr">date</span>: <span class="hljs-title function_">date</span>(post.<span class="hljs-property">date</span>),<br>    <span class="hljs-attr">updated</span>: <span class="hljs-title function_">date</span>(post.<span class="hljs-property">updated</span>),<span class="hljs-comment">//添加此行</span><br>    <span class="hljs-attr">dateXml</span>: <span class="hljs-title function_">date_xml</span>(post.<span class="hljs-property">date</span>),<br>    <span class="hljs-attr">thumbnail</span>: thumbnail,<br>    <span class="hljs-attr">categories</span>: post.<span class="hljs-property">categories</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">category</span>) {<br>        <span class="hljs-keyword">return</span> {<br>            <span class="hljs-attr">name</span>: category.<span class="hljs-property">name</span>,<br>            <span class="hljs-attr">url</span>: <span class="hljs-title function_">url_for</span>(category.<span class="hljs-property">path</span>)<br>        };<br>    })<br>};<br></code></pre></td></tr></tbody></table></figure>
<p>修改<code>node_modules\hexo-generator-index\lib\generator.js</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-meta">'use strict'</span>;<br><br><span class="hljs-keyword">const</span> pagination = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hexo-pagination'</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">locals</span>) {<br>  <span class="hljs-keyword">const</span> config = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>;<br>  <span class="hljs-keyword">const</span> posts = locals.<span class="hljs-property">posts</span>.<span class="hljs-title function_">sort</span>(config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">order_by</span>);<br><br>  <span class="hljs-comment">//posts.data.sort((a, b) =&gt; (b.sticky || 0) - (a.sticky || 0));</span><br>  posts.<span class="hljs-property">data</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {<br>    <span class="hljs-comment">//先按top降序</span><br>    <span class="hljs-keyword">var</span> res = (b.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">if</span> (res == <span class="hljs-number">0</span>) {<br>        <span class="hljs-comment">//再按更新日期降序</span><br>        res = (b.<span class="hljs-property">updated</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">updated</span> || <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">if</span> (res == <span class="hljs-number">0</span>) {<br>            <span class="hljs-comment">//最后按创建日期降序</span><br>            res = (b.<span class="hljs-property">dated</span> || <span class="hljs-number">0</span>) - (a.<span class="hljs-property">dated</span> || <span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">return</span> res;<br>        } <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">return</span> res;<br>        }<br>    } <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">return</span> res;<br>    }<br>  }); <br><br>  posts.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>].<span class="hljs-property">prev</span> = <span class="hljs-literal">null</span>;<br>  posts.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>].<span class="hljs-property">next</span> = posts.<span class="hljs-property">data</span>[<span class="hljs-number">1</span>];<br>  posts.<span class="hljs-property">data</span>[posts.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>].<span class="hljs-property">prev</span> = posts.<span class="hljs-property">data</span>[posts.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>-<span class="hljs-number">2</span>];<br>  posts.<span class="hljs-property">data</span>[posts.<span class="hljs-property">data</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; posts.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>; i++){<br>    posts.<span class="hljs-property">data</span>[i].<span class="hljs-property">prev</span> = posts.<span class="hljs-property">data</span>[i-<span class="hljs-number">1</span>];<br>    posts.<span class="hljs-property">data</span>[i].<span class="hljs-property">next</span> = posts.<span class="hljs-property">data</span>[i+<span class="hljs-number">1</span>];<br>  }<br>    <br>  <span class="hljs-keyword">const</span> paginationDir = config.<span class="hljs-property">pagination_dir</span> || <span class="hljs-string">'page'</span>;<br>  <span class="hljs-keyword">const</span> path = config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">path</span> || <span class="hljs-string">''</span>;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">pagination</span>(path, posts, {<br>    <span class="hljs-attr">perPage</span>: config.<span class="hljs-property">index_generator</span>.<span class="hljs-property">per_page</span>,<br>    <span class="hljs-attr">layout</span>: [<span class="hljs-string">'index'</span>, <span class="hljs-string">'archive'</span>],<br>    <span class="hljs-attr">format</span>: paginationDir + <span class="hljs-string">'/%d/'</span>,<br>    <span class="hljs-attr">data</span>: {<br>      <span class="hljs-attr">__index</span>: <span class="hljs-literal">true</span><br>    }<br>  });<br>};<br></code></pre></td></tr></tbody></table></figure>
<h3 id="加宽正文布局"><a class="markdownIt-Anchor" href="#加宽正文布局"></a> 加宽正文布局</h3>
<p><code>themes\hexo-theme-icarus\include\style\base.styl</code></p>
<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-variable">$gap</span> ?= <span class="hljs-number">64px</span><br><span class="hljs-variable">$tablet</span> ?= <span class="hljs-number">769px</span><br><span class="hljs-variable">$desktop</span> ?= <span class="hljs-number">1088px</span><br><span class="hljs-variable">$widescreen</span> ?= <span class="hljs-number">1280px</span><br><span class="hljs-variable">$fullhd</span> ?= <span class="hljs-number">1472px</span><br></code></pre></td></tr></tbody></table></figure>
<h3 id="waline"><a class="markdownIt-Anchor" href="#waline"></a> Waline</h3>
<h4 id="使用最新版"><a class="markdownIt-Anchor" href="#使用最新版"></a> 使用最新版</h4>
<p><code>node_modules\hexo-component-inferno\lib\view\comment\waline.js</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">jsUrl</span>: helper.<span class="hljs-title function_">cdn</span>(<span class="hljs-string">'@waline/client'</span>, <span class="hljs-string">'v2'</span>, <span class="hljs-string">'dist/waline.js'</span>),<br><span class="hljs-attr">cssUrl</span>: helper.<span class="hljs-title function_">cdn</span>(<span class="hljs-string">'@waline/client'</span>, <span class="hljs-string">'v2'</span>, <span class="hljs-string">'dist/waline.css'</span>)<br></code></pre></td></tr></tbody></table></figure>
<h4 id="https"><a class="markdownIt-Anchor" href="#https"></a> HTTPS</h4>
<p>遇到<code>This request has been blocked; the content must be served over HTTPS.</code></p>
<p><code>&lt;head&gt;</code>下添加</p>
<p><code>&lt;meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/&gt;</code></p>
<p><code>themes\hexo-theme-icarus\layout\common\head.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> &lt;head&gt;<br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Security-Policy"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"upgrade-insecure-requests"</span>/&gt;</span></span><br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /&gt;</span></span><br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1, maximum-scale=1"</span> /&gt;</span></span><br>            ...<br></code></pre></td></tr></tbody></table></figure>
<h3 id="添加备案号"><a class="markdownIt-Anchor" href="#添加备案号"></a> 添加备案号</h3>
<p><code>themes\hexo-theme-icarus\layout\common\footer.jsx</code></p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"level-mid"</span> style=<span class="hljs-string">"text-align:center;"</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"is-size-7"</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://beian.miit.gov.cn/"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color:#606266"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>沪ICPxxxxxxxx号-1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"is-size-7"</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">no-lazy</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/img/备案图标.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">img</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=沪公网安备xxxxxxxxx号"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color:#606266"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>沪公网安备xxxxxxxxx号<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>&lt;/div&gt;<br></code></pre></td></tr></tbody></table></figure>
<h3 id="修改cdn"><a class="markdownIt-Anchor" href="#修改cdn"></a> 修改CDN</h3>
<p><code>themes\hexo-theme-icarus\_config.yml</code></p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">cdn:</span> <span class="hljs-string">'[cdnjs]https://cdn.staticfile.org/${package}/${version}/${filename}'</span><br><span class="hljs-attr">fontcdn:</span> <span class="hljs-string">ustc</span><br><span class="hljs-attr">concdn:</span> <span class="hljs-string">'https://cdn.staticfile.org/font-awesome/6.2.1/css/all.min.css'</span><br></code></pre></td></tr></tbody></table></figure>
<p><code>themes\hexo-theme-icarus\layout\common\head.jsx</code>这个font加载太慢了，直接注释掉</p>
<figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> fontCssUrl = {<br>    <span class="hljs-comment">// default: fontcdn('Ubuntu:wght@400;600&amp;family=Source+Code+Pro', 'css2'),</span><br>    <span class="hljs-attr">cyberpunk</span>: <span class="hljs-title function_">fontcdn</span>(<span class="hljs-string">'Oxanium:wght@300;400;600&amp;family=Roboto+Mono'</span>, <span class="hljs-string">'css2'</span>)<br>};<br></code></pre></td></tr></tbody></table></figure>
<h2 id="部署至阿里云oss"><a class="markdownIt-Anchor" href="#部署至阿里云oss"></a> 部署至阿里云OSS</h2>
<h3 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.bytelife.net/articles/52761.html">Hexo 一键部署到阿里云 OSS 并设置浏览器缓存</a></li>
<li><a target="_blank" rel="noopener" href="https://liqing.blog.csdn.net/article/details/79940017">前端静态资源缓存最优解以及max-age的陷阱</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2059921">设计一个完美的HTTP缓存策略</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/mimica247706624/article/details/125877577">阿里云 OSS+CDN 挂载静态网站(访问加速) http方式访问</a></li>
</ol>
<h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i hexo-deployer-ali-oss-extend --save<br></code></pre></td></tr></tbody></table></figure>
<p><code>_config.yml</code></p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br><span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">ali-oss</span><br>  <span class="hljs-attr">region:</span> <span class="hljs-string">"&lt;您的oss 区域代码&gt;"</span><br>  <span class="hljs-attr">accessKeyId:</span> <span class="hljs-string">"&lt;您的oss  accessKeyId&gt;"</span><br>  <span class="hljs-attr">accessKeySecret:</span> <span class="hljs-string">"&lt;您的oss accessKeySecret&gt;"</span><br>  <span class="hljs-attr">bucket:</span> <span class="hljs-string">"&lt;您的bucket name&gt;"</span><br>  <span class="hljs-attr">cacheControl:</span><br>    <span class="hljs-attr">images:</span> <span class="hljs-string">"&lt;图片文件HTTP响应头Cache-Control&gt;，留空为no-cache"</span><br>    <span class="hljs-attr">css:</span> <span class="hljs-string">"&lt;CSS文件HTTP响应头Cache-Control&gt;，留空为no-cache"</span><br>    <span class="hljs-attr">js:</span> <span class="hljs-string">"&lt;JS文件HTTP响应头Cache-Control&gt;，留空为no-cache"</span><br>    <span class="hljs-attr">html:</span> <span class="hljs-string">"&lt;HTML文件HTTP响应头Cache-Control&gt;，留空为no-cache"</span><br>    <span class="hljs-attr">other:</span> <span class="hljs-string">"&lt;其它文件HTTP响应头Cache-Control&gt;，留空为no-cache"</span><br><br></code></pre></td></tr></tbody></table></figure>
<h2 id="阿里云函数计算部署waline"><a class="markdownIt-Anchor" href="#阿里云函数计算部署waline"></a> 阿里云函数计算部署Waline</h2>
<h3 id="阿里云函数osssqlite"><a class="markdownIt-Anchor" href="#阿里云函数osssqlite"></a> 阿里云函数+OSS+SQLite</h3>
<p><strong>都用阿里云函数了，推荐使用<a target="_blank" rel="noopener" href="https://waline.js.org/guide/database.html#sqlite">SQLite</a>存储</strong></p>
<ol>
<li>根据<a target="_blank" rel="noopener" href="https://waline.js.org/guide/deploy/aliyun-fc.html">阿里云函数计算部署</a>创建云函数和OSS</li>
<li>根据<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/454199.html">配置OSS文件系统</a>挂载OSS到云函数</li>
<li>上传<a target="_blank" rel="noopener" href="https://github.com/walinejs/waline/blob/main/assets/waline.sqlite">waline.sqlite</a>到OSS对应目录</li>
<li>参考<a target="_blank" rel="noopener" href="https://waline.js.org/guide/database.html#sqlite">SQLite</a>配置环境变量</li>
<li>控制台<code>npm install</code>安装node包后部署</li>
</ol>
<blockquote>
<p>日志服务记录的时间和函数计算的时间不一致，可能是因为两者使用的时间格式和时区不一致。</p>
<p>函数计算默认以UTC时间运行，也就是0时区，即北京时间减去8个小时。例如北京时间每天12:00，转化为UTC时间就是每天04:00。您可以通过设置环境变量进行时区修改，例如，设置变量<strong>TZ</strong>的值为<code>Asia/Shanghai</code>后，函数计算的时区被修改为东8区，即北京时间。具体操作，请参见<a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/69777.htm#multiTask2981">环境变量</a>。</p>
</blockquote>
<h3 id="leancloud"><a class="markdownIt-Anchor" href="#leancloud"></a> LeanCloud</h3>
<p>参考<a target="_blank" rel="noopener" href="https://waline.js.org/guide/deploy/aliyun-fc.html">https://waline.js.org/guide/deploy/aliyun-fc.html</a></p>
<p>注意，由于oss_bucket不能重名，如果出现相关报错<code>Please provide existed ossBucket under your account when code size is greater than 50M.</code></p>
<p>国际版（如果使用LeanCloud作为数据库）需要使用非大陆地域<code>region</code>,选择<code>cn-hongkong</code></p>
<blockquote>
<p>地区(region)目前支持：<code>cn-beijing</code>, <code>cn-hangzhou</code>, <code>cn-shanghai</code>, <code>cn-qingdao</code>, <code>cn-zhangjiakou</code>, <code>cn-huhehaote</code>, <code>cn-shenzhen</code>, <code>cn-chengdu</code>, <code>cn-hongkong</code>, <code>ap-southeast-1</code>, <code>ap-southeast-2</code>, <code>ap-southeast-3</code>, <code>ap-southeast-5</code>, <code>ap-northeast-1</code>, <code>eu-central-1</code>, <code>eu-west-1</code>, <code>us-west-1</code>, <code>us-east-1</code>, <code>ap-south-1</code></p>
</blockquote>
<p>修改<code>s.yml</code>的<code>ossBucket</code>为一个没人用过的名字</p>
<p>部署完成后，请访问 <code>&lt;serverURL&gt;/ui/register</code> 进行注册。首个注册的人会被设定成管理员。<code>AKISMET_KEY=false</code>关闭垃圾检测，服务器在国外，比较慢。</p>
<h2 id="busuanzi统计不显示的根本原因及解决办法"><a class="markdownIt-Anchor" href="#busuanzi统计不显示的根本原因及解决办法"></a> busuanzi统计不显示的根本原因及解决办法</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44834205/article/details/126593378">https://blog.csdn.net/weixin_44834205/article/details/126593378</a></p>
<p>live2d 插件导致问题：<a target="_blank" rel="noopener" href="https://github.com/xiazeyu/live2d-widget.js/pull/61">https://github.com/xiazeyu/live2d-widget.js/pull/61</a></p>
<blockquote>
<p>网上搜到的很多解决办法是把 <code>id="busuanzi_container_*"</code> 删掉，这样当然就不会被隐藏了，只不过这个隐藏本意是在出错时不把错误或者无意义的内容显示给访客，保留这一行为还是挺好的</p>
</blockquote>
<h2 id="html-heading-tag-修改"><a class="markdownIt-Anchor" href="#html-heading-tag-修改"></a> HTML Heading Tag 修改</h2>
<p>对网站进行SEO优化，要求一个页面只有一个<code>&lt;h1&gt;&lt;/h1&gt;</code>，但文章撰写时，使用了多个一级标题，因此编写插件<code>hexo-hxtag-fixer</code>，把Markdown源文件的标题下降一级，例如<code>#</code>=&gt;<code>##</code>。由于文章较多，手动修改麻烦，也不符合日常写作习惯，于是编写插件，在渲染前替换Markdown源文件的文本。</p>
<h3 id="核心功能"><a class="markdownIt-Anchor" href="#核心功能"></a> 核心功能</h3>
<figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript">hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">filter</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">'before_post_render'</span>, filter);<br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">filter</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">'after_render:html'</span>, filter); <br></code></pre></td></tr></tbody></table></figure>
<p>使用过程发现，源文件渲染是有缓存的，调试时应采用<code>hexo clean;hexo s</code>。</p>
<h3 id="核心代码"><a class="markdownIt-Anchor" href="#核心代码"></a> 核心代码</h3>
<figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">/* global hexo */</span> <span class="hljs-comment">//https://github.com/uiolee/hexo-absolute</span><br><span class="hljs-meta">'use strict'</span>;<br><br>hexo.<span class="hljs-property">config</span>.<span class="hljs-property">hxtag</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({<br>  <span class="hljs-attr">enable</span>: <span class="hljs-literal">true</span><br>}, hexo.<span class="hljs-property">config</span>.<span class="hljs-property">hxtag</span>);<br><br><span class="hljs-keyword">const</span> hxtag = hexo.<span class="hljs-property">config</span>.<span class="hljs-property">hxtag</span>;<br><br><span class="hljs-keyword">const</span> filter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./lib/filter'</span>);<br><br><span class="hljs-keyword">if</span> (hxtag.<span class="hljs-property">enable</span>) {<br>  <span class="hljs-comment">//hexo.extend.filter.register('before_post_render', filter,1);</span><br>  hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">filter</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">'after_render:html'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">content, data</span>) {<br>    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">path</span> == <span class="hljs-string">'index.html'</span>) {<br>      <span class="hljs-keyword">return</span> content;<br>    }<br>    <span class="hljs-comment">//&lt;(h[1-6])([^&gt;]*)&gt;([\s\S]+?)&lt;\/\1&gt;</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">5</span>; i &gt;= <span class="hljs-number">1</span>; i--) {<br>      <span class="hljs-keyword">var</span> tag = <span class="hljs-string">"h"</span> + (i+<span class="hljs-number">1</span>);<br>      <span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">"&lt;(h"</span>+<span class="hljs-title class_">String</span>(i)+<span class="hljs-string">")([^&gt;]*)&gt;([\\s\\S]+?)&lt;/\\1&gt;"</span>,<span class="hljs-string">"g"</span>);<br>      content = content.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"&lt;"</span>+tag+<span class="hljs-string">"$2&gt;$3&lt;/"</span>+tag+<span class="hljs-string">"&gt;"</span>);    <br>    }<br>    <span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">"&lt;(h2)([^&gt;]*)&gt;([\\s\\S]+?)&lt;/\\1&gt;"</span>);<br>    content = content.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"&lt;h1$2&gt;$3&lt;/h1&gt;"</span>);    <br>    <span class="hljs-keyword">return</span> content;<br>  },<span class="hljs-number">1</span>);<br>}<br></code></pre></td></tr></tbody></table></figure>
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=&gt;start: hexo-generator-index读取所有的文章
op1=&gt;operation: hexo-generator-index按top,updated,date即置顶值，更新日期，创建日期降序排序
op2=&gt;operation: hexo-pagination分割文章，形成不同页，假设每一页n篇文章
op3=&gt;operation: theme主题得到每一页n篇文章后，可以用`page.posts.sort({date:-1,top:-1})`再进行排序。由于排序步骤已经在hexo-generator-index实现，故在这里不需要排序
op4=&gt;operation: 输出
st-&gt;op1-&gt;op2-&gt;op3-&gt;op4</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><textarea id="flowchart-1-code" style="display: none">st=&gt;start: Start
op=&gt;operation: Your Operation
cond=&gt;condition: Yes or No?
e=&gt;end
st-&gt;op-&gt;cond
cond(yes)-&gt;e
cond(no)-&gt;op</textarea><textarea id="flowchart-1-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-1-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-1-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-1", options);</script><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></div><div class="article-licensing box"><div class="licensing-title"><p>Hexo搭建笔记</p><p><a href="https://www.shjdgwj.cn/3c6bb61e18a6/">https://www.shjdgwj.cn/3c6bb61e18a6/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>GWJ</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-02-04</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-01-31</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Hexo/">Hexo</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/7ff7c357b583/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Hi3556v200踩坑笔记（3）</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/35a3fb30f4ab/"><span class="level-item">暴破SciTools Understand</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h4 class="title is-5">评论</h4><div class="content" id="waline-thread"></div><link rel="stylesheet" href="https://cdn.staticfile.org/waline/2.14.4/waline.min.css"><script src="https://cdn.staticfile.org/waline/2.14.4/waline.min.js"></script><script>Waline.init({
            el: '#waline-thread',
            serverURL: "https://waline.shjdgwj.cn/",
            path: window.location.pathname.replace(/\/$/,''),
            lang: "zh-CN",
            locale: {"placeholder":"欢迎在此评论 o(*≧▽≦)ツ ~ ┴┴"},
            emoji: ["//waline-hexo-sql.oss-cn-shanghai.aliyuncs.com/emojis/qq","//waline-hexo-sql.oss-cn-shanghai.aliyuncs.com/emojis/bmoji","//waline-hexo-sql.oss-cn-shanghai.aliyuncs.com/emojis/tieba"],
            dark: "auto",
            meta: ["nick","mail"],
            requiredMeta: ["nick","mail"],
            login: "force",
            
            pageSize: 10,
            
            
            
            search: false,
            pageview: true,
            comment: true,
            copyright: false,
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/loading.gif" data-original="/images/avatar.png" alt="Einreiz"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Einreiz</p><p class="is-size-6 is-block">随性而不失个性，有设计而不留痕迹</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shanghai or XDU</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">33</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">11</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/shjdgwj" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/shjdgwj"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h4 class="menu-label">分类</h4><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">学习笔记</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">嵌入式开发</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/"><span class="level-start"><span class="level-item">软件应用</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%97%B2%E8%A8%80%E7%A2%8E%E8%AF%AD/"><span class="level-start"><span class="level-item">闲言碎语</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h4 class="menu-label">标签</h4><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FPGA/"><span class="tag">FPGA</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Matlab/"><span class="tag">Matlab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RISC-V/"><span class="tag">RISC-V</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/STM32/"><span class="tag">STM32</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TI/"><span class="tag">TI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZYNQ/"><span class="tag">ZYNQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%B7%E6%80%9D/"><span class="tag">海思</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%86%E5%90%91/"><span class="tag">逆向</span><span class="tag">2</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h4 class="menu-label">目录</h4><ul class="menu-list"><li><a class="level is-mobile" href="#todo-list"><span class="level-left"><span class="level-item">1</span><span class="level-item"> Todo List</span></span></a></li><li><a class="level is-mobile" href="#文档"><span class="level-left"><span class="level-item">2</span><span class="level-item"> 文档</span></span></a></li><li><a class="level is-mobile" href="#hexo-一篇文章多个-categories"><span class="level-left"><span class="level-item">3</span><span class="level-item"> Hexo 一篇文章多个 categories</span></span></a></li><li><a class="level is-mobile" href="#定制claudia主题"><span class="level-left"><span class="level-item">4</span><span class="level-item"> 定制Claudia主题</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#排序-置顶"><span class="level-left"><span class="level-item">4.1</span><span class="level-item"> 排序-置顶</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#分页导致top值失效"><span class="level-left"><span class="level-item">4.1.1</span><span class="level-item"> 分页导致top值失效</span></span></a></li></ul></li><li><a class="level is-mobile" href="#post侧边目录显示序列号"><span class="level-left"><span class="level-item">4.2</span><span class="level-item"> Post侧边目录显示序列号</span></span></a></li><li><a class="level is-mobile" href="#主页侧边栏随页面滚动"><span class="level-left"><span class="level-item">4.3</span><span class="level-item"> 主页侧边栏随页面滚动</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#修改模版文件"><span class="level-left"><span class="level-item">4.3.1</span><span class="level-item"> 修改模版文件</span></span></a></li><li><a class="level is-mobile" href="#修改css文件"><span class="level-left"><span class="level-item">4.3.2</span><span class="level-item"> 修改CSS文件</span></span></a></li><li><a class="level is-mobile" href="#侧边栏进一步定制"><span class="level-left"><span class="level-item">4.3.3</span><span class="level-item"> 侧边栏进一步定制</span></span></a></li><li><a class="level is-mobile" href="#修改侧边栏显示顺序"><span class="level-left"><span class="level-item">4.3.4</span><span class="level-item"> 修改侧边栏显示顺序</span></span></a></li></ul></li><li><a class="level is-mobile" href="#图片点击放大"><span class="level-left"><span class="level-item">4.4</span><span class="level-item"> 图片点击放大</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#fancybox导致页面自动滚动"><span class="level-left"><span class="level-item">4.4.1</span><span class="level-item"> fancybox导致页面自动滚动</span></span></a></li></ul></li><li><a class="level is-mobile" href="#更改highlight高亮"><span class="level-left"><span class="level-item">4.5</span><span class="level-item"> 更改Highlight高亮</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#进一步修改"><span class="level-left"><span class="level-item">4.5.1</span><span class="level-item"> 进一步修改</span></span></a></li></ul></li><li><a class="level is-mobile" href="#文章按更新时间排序"><span class="level-left"><span class="level-item">4.6</span><span class="level-item"> 文章按更新时间排序</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#资料"><span class="level-left"><span class="level-item">4.6.1</span><span class="level-item"> 资料</span></span></a></li><li><a class="level is-mobile" href="#修改文章-显示的日期创建日期改为修改日期"><span class="level-left"><span class="level-item">4.6.2</span><span class="level-item"> 修改文章 显示的日期：创建日期改为修改日期</span></span></a></li><li><a class="level is-mobile" href="#原理"><span class="level-left"><span class="level-item">4.6.3</span><span class="level-item"> 原理</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#live2d"><span class="level-left"><span class="level-item">5</span><span class="level-item"> live2d</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#live2d看板娘不显示的解决办法"><span class="level-left"><span class="level-item">5.1</span><span class="level-item"> live2d看板娘不显示的解决办法</span></span></a></li><li><a class="level is-mobile" href="#定制css样式"><span class="level-left"><span class="level-item">5.2</span><span class="level-item"> 定制css样式</span></span></a></li></ul></li><li><a class="level is-mobile" href="#编辑技巧"><span class="level-left"><span class="level-item">6</span><span class="level-item"> 编辑技巧</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#反向tab编辑时与tab键相反功能的建"><span class="level-left"><span class="level-item">6.1</span><span class="level-item"> 反向TAB(编辑时与tab键相反功能的建)</span></span></a></li><li><a class="level is-mobile" href="#空格"><span class="level-left"><span class="level-item">6.2</span><span class="level-item"> 空格</span></span></a></li><li><a class="level is-mobile" href="#正则表达式在行首添加指定内容"><span class="level-left"><span class="level-item">6.3</span><span class="level-item"> 正则表达式在行首添加指定内容</span></span></a></li><li><a class="level is-mobile" href="#流程图"><span class="level-left"><span class="level-item">6.4</span><span class="level-item"> 流程图</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#例子"><span class="level-left"><span class="level-item">6.4.1</span><span class="level-item"> 例子</span></span></a></li><li><a class="level is-mobile" href="#定义元素的语法"><span class="level-left"><span class="level-item">6.4.2</span><span class="level-item"> 定义元素的语法</span></span></a></li><li><a class="level is-mobile" href="#连接元素的语法"><span class="level-left"><span class="level-item">6.4.3</span><span class="level-item"> 连接元素的语法</span></span></a></li><li><a class="level is-mobile" href="#流程图方向"><span class="level-left"><span class="level-item">6.4.4</span><span class="level-item"> 流程图方向</span></span></a></li><li><a class="level is-mobile" href="#表情"><span class="level-left"><span class="level-item">6.4.5</span><span class="level-item"> 表情</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#图片正确插入姿势"><span class="level-left"><span class="level-item">7</span><span class="level-item"> 图片正确插入姿势</span></span></a></li><li><a class="level is-mobile" href="#修改渲染器"><span class="level-left"><span class="level-item">8</span><span class="level-item"> 修改渲染器</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#资料-2"><span class="level-left"><span class="level-item">8.1</span><span class="level-item"> 资料</span></span></a></li><li><a class="level is-mobile" href="#安装新的渲染器"><span class="level-left"><span class="level-item">8.2</span><span class="level-item"> 安装新的渲染器</span></span></a></li><li><a class="level is-mobile" href="#修改-_configyml文件"><span class="level-left"><span class="level-item">8.3</span><span class="level-item"> 修改 _config.yml文件</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#问题"><span class="level-left"><span class="level-item">8.3.1</span><span class="level-item"> 问题</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#latex公式居中_结合mathtype和mathjax在hexo博客中插入数学公式"><span class="level-left"><span class="level-item">9</span><span class="level-item"> latex公式居中_结合MathType和MathJax在Hexo博客中插入数学公式</span></span></a></li><li><a class="level is-mobile" href="#hexo博客自定义页面跳过渲染"><span class="level-left"><span class="level-item">10</span><span class="level-item"> hexo博客自定义页面跳过渲染</span></span></a></li><li><a class="level is-mobile" href="#hexo插件汇总"><span class="level-left"><span class="level-item">11</span><span class="level-item"> Hexo插件汇总</span></span></a></li><li><a class="level is-mobile" href="#hexo无法上传"><span class="level-left"><span class="level-item">12</span><span class="level-item"> HEXO无法上传</span></span></a></li><li><a class="level is-mobile" href="#图片懒加载"><span class="level-left"><span class="level-item">13</span><span class="level-item"> 图片懒加载</span></span></a></li><li><a class="level is-mobile" href="#加密文章图片不显示"><span class="level-left"><span class="level-item">14</span><span class="level-item"> 加密文章图片不显示</span></span></a></li><li><a class="level is-mobile" href="#软连接同步更新文章"><span class="level-left"><span class="level-item">15</span><span class="level-item"> 软连接同步更新文章</span></span></a></li><li><a class="level is-mobile" href="#定制icarus主题"><span class="level-left"><span class="level-item">16</span><span class="level-item"> 定制icarus主题</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#资料-3"><span class="level-left"><span class="level-item">16.1</span><span class="level-item"> 资料</span></span></a></li><li><a class="level is-mobile" href="#文章目录自动开启"><span class="level-left"><span class="level-item">16.2</span><span class="level-item"> 文章目录自动开启</span></span></a></li><li><a class="level is-mobile" href="#设置展开内容"><span class="level-left"><span class="level-item">16.3</span><span class="level-item"> 设置展开内容</span></span></a></li><li><a class="level is-mobile" href="#主题语言配置错误"><span class="level-left"><span class="level-item">16.4</span><span class="level-item"> 主题语言配置错误</span></span></a></li><li><a class="level is-mobile" href="#封面-缩略图默认设置为文章第一张图"><span class="level-left"><span class="level-item">16.5</span><span class="level-item"> 封面 &amp; 缩略图默认设置为文章第一张图</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#魔改hexo-component-inferno"><span class="level-left"><span class="level-item">16.5.1</span><span class="level-item"> 魔改hexo-component-inferno</span></span></a></li></ul></li><li><a class="level is-mobile" href="#navbar语言配置文件不生效"><span class="level-left"><span class="level-item">16.6</span><span class="level-item"> navbar语言配置文件不生效</span></span></a></li><li><a class="level is-mobile" href="#文章按更新时间排序-2"><span class="level-left"><span class="level-item">16.7</span><span class="level-item"> 文章按更新时间排序</span></span></a></li><li><a class="level is-mobile" href="#加宽正文布局"><span class="level-left"><span class="level-item">16.8</span><span class="level-item"> 加宽正文布局</span></span></a></li><li><a class="level is-mobile" href="#waline"><span class="level-left"><span class="level-item">16.9</span><span class="level-item"> Waline</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#使用最新版"><span class="level-left"><span class="level-item">16.9.1</span><span class="level-item"> 使用最新版</span></span></a></li><li><a class="level is-mobile" href="#https"><span class="level-left"><span class="level-item">16.9.2</span><span class="level-item"> HTTPS</span></span></a></li></ul></li><li><a class="level is-mobile" href="#添加备案号"><span class="level-left"><span class="level-item">16.10</span><span class="level-item"> 添加备案号</span></span></a></li><li><a class="level is-mobile" href="#修改cdn"><span class="level-left"><span class="level-item">16.11</span><span class="level-item"> 修改CDN</span></span></a></li></ul></li><li><a class="level is-mobile" href="#部署至阿里云oss"><span class="level-left"><span class="level-item">17</span><span class="level-item"> 部署至阿里云OSS</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#参考资料"><span class="level-left"><span class="level-item">17.1</span><span class="level-item"> 参考资料</span></span></a></li><li><a class="level is-mobile" href="#代码"><span class="level-left"><span class="level-item">17.2</span><span class="level-item"> 代码</span></span></a></li></ul></li><li><a class="level is-mobile" href="#阿里云函数计算部署waline"><span class="level-left"><span class="level-item">18</span><span class="level-item"> 阿里云函数计算部署Waline</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#阿里云函数osssqlite"><span class="level-left"><span class="level-item">18.1</span><span class="level-item"> 阿里云函数+OSS+SQLite</span></span></a></li><li><a class="level is-mobile" href="#leancloud"><span class="level-left"><span class="level-item">18.2</span><span class="level-item"> LeanCloud</span></span></a></li></ul></li><li><a class="level is-mobile" href="#busuanzi统计不显示的根本原因及解决办法"><span class="level-left"><span class="level-item">19</span><span class="level-item"> busuanzi统计不显示的根本原因及解决办法</span></span></a></li><li><a class="level is-mobile" href="#html-heading-tag-修改"><span class="level-left"><span class="level-item">20</span><span class="level-item"> HTML Heading Tag 修改</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#核心功能"><span class="level-left"><span class="level-item">20.1</span><span class="level-item"> 核心功能</span></span></a></li><li><a class="level is-mobile" href="#核心代码"><span class="level-left"><span class="level-item">20.2</span><span class="level-item"> 核心代码</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h4 class="menu-label">归档</h4><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">GWJ的个人小站</a><p class="is-size-7"><span>&copy; 2023 GWJ</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span>共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-mid" style="text-align:center;"><p class="is-size-7"><a href="https://beian.miit.gov.cn/" style="color:#606266" target="_blank">沪ICP备2023001326号-1</a></p><p class="is-size-7"><img no-lazy src="/img/备案图标.png"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011402010007" style="color:#606266" target="_blank">沪公网安备 31011402010007号</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdn.staticfile.org/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.staticfile.org/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.15.1/katex.min.css"><script src="https://cdn.staticfile.org/KaTeX/0.15.1/katex.min.js" defer></script><script src="https://cdn.staticfile.org/KaTeX/0.15.1/contrib/auto-render.min.js" defer></script><script src="https://cdn.staticfile.org/KaTeX/0.15.1/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/main_css.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1.1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2.5,"width":150,"height":500,"position":"left","hOffset":35,"vOffset":-120},"mobile":{"show":true,"scale":0.65},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"dialog":{"enable":true,"hitokoto":true},"dev":{"border":false},"log":false});</script></body></html>